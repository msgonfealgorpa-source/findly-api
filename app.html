<!DOCTYPE html>
<html lang="ar" dir="rtl" id="main-html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Findly Sage Ultimate - AI Shopping Intelligence</title>
    <meta name="description" content="Findly Sage - Revolutionary AI-powered shopping intelligence platform">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           FINDLY SAGE ULTIMATE - COMPLETE VERSION
           ÿ¨ŸÖŸäÿπ ÿßŸÑŸàÿ∏ÿßÿ¶ŸÅ ÿßŸÑÿ≥ÿßÿ®ŸÇÿ© + ÿßŸÑÿ™ÿ∑ŸàŸäÿ± ÿßŸÑŸÉÿßŸÖŸÑ
        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #818cf8;
            --secondary: #8b5cf6;
            --accent-cyan: #06b6d4;
            --accent-emerald: #10b981;
            --accent-amber: #f59e0b;
            --accent-rose: #f43f5e;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            
            --bg-canvas: #030712;
            --bg-surface: #0f172a;
            --bg-elevated: #1e293b;
            --bg-card: rgba(30, 41, 59, 0.7);
            --bg-glass: rgba(255, 255, 255, 0.03);
            
            --border-subtle: rgba(255, 255, 255, 0.05);
            --border-default: rgba(255, 255, 255, 0.1);
            --border-glow: rgba(99, 102, 241, 0.4);
            
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-tertiary: #94a3b8;
            --text-muted: #64748b;
            
            --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%);
            --gradient-success: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --gradient-warning: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            --gradient-danger: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            --gradient-mesh: radial-gradient(at 40% 20%, rgba(99, 102, 241, 0.15) 0px, transparent 50%),
                            radial-gradient(at 80% 0%, rgba(139, 92, 246, 0.1) 0px, transparent 50%),
                            radial-gradient(at 0% 50%, rgba(6, 182, 212, 0.1) 0px, transparent 50%);
            
            --shadow-glow: 0 0 40px -10px rgba(99, 102, 241, 0.5);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-2xl: 24px;
            --radius-full: 9999px;
            
            --font-sans: 'IBM Plex Sans Arabic', 'Space Grotesk', -apple-system, sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            
            --transition-fast: 150ms ease;
            --transition-normal: 250ms ease;
        }

        .light-mode {
            --bg-canvas: #f8fafc;
            --bg-surface: #ffffff;
            --bg-elevated: #f1f5f9;
            --bg-card: rgba(255, 255, 255, 0.9);
            --bg-glass: rgba(0, 0, 0, 0.02);
            --border-subtle: rgba(0, 0, 0, 0.04);
            --border-default: rgba(0, 0, 0, 0.08);
            --text-primary: #0f172a;
            --text-secondary: #334155;
            --text-tertiary: #64748b;
            --text-muted: #94a3b8;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        
        html { scroll-behavior: smooth; }
        
        body {
            font-family: var(--font-sans);
            font-size: 16px;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-canvas);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Background */
        .bg-effects {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
        }
        
        .bg-mesh { position: absolute; inset: 0; background: var(--gradient-mesh); opacity: 0.8; }
        
        .bg-grid {
            position: absolute;
            inset: 0;
            background-image: linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px),
                              linear-gradient(90deg, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
            background-size: 64px 64px;
            mask-image: radial-gradient(ellipse 80% 60% at 50% 0%, black 40%, transparent 100%);
        }
        
        .bg-orbs { position: absolute; inset: 0; overflow: hidden; }
        
        .orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.4;
            animation: float 20s ease-in-out infinite;
        }
        
        .orb-1 { width: 400px; height: 400px; background: var(--primary); top: -200px; left: 20%; }
        .orb-2 { width: 300px; height: 300px; background: var(--secondary); top: 30%; right: -100px; animation-delay: -7s; }
        .orb-3 { width: 350px; height: 350px; background: var(--accent-cyan); bottom: -150px; left: 10%; animation-delay: -14s; }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -30px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
        }

        /* ‚ïê‚ïê‚ïê HEADER ‚ïê‚ïê‚ïê */
        .header {
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 12px 24px;
            background: rgba(3, 7, 18, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-subtle);
        }
        
        .light-mode .header { background: rgba(248, 250, 252, 0.9); }
        
        .header-inner {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 24px;
        }
        
        .brand { display: flex; align-items: center; gap: 12px; }
        
        .brand-logo {
            width: 44px;
            height: 44px;
            background: var(--gradient-primary);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
            box-shadow: var(--shadow-glow);
            position: relative;
            overflow: hidden;
        }
        
        .brand-logo::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.2) 50%, transparent 60%);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
        
        .brand-name {
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .brand-tagline { font-size: 0.7rem; color: var(--text-muted); letter-spacing: 0.5px; }
        
        .header-actions { display: flex; align-items: center; gap: 8px; }
        
        .btn-icon {
            width: 42px;
            height: 42px;
            border-radius: var(--radius-lg);
            background: var(--bg-glass);
            border: 1px solid var(--border-subtle);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            transition: all var(--transition-fast);
            position: relative;
        }
        
        .btn-icon:hover {
            background: var(--bg-elevated);
            border-color: var(--border-default);
            color: var(--text-primary);
            transform: translateY(-2px);
        }
        
        .btn-icon .badge {
            position: absolute;
            top: -4px;
            right: -4px;
            min-width: 18px;
            height: 18px;
            padding: 0 5px;
            background: var(--danger);
            color: white;
            font-size: 0.65rem;
            font-weight: 700;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--bg-canvas);
        }

        /* Language Dropdown */
        .dropdown-wrapper { position: relative; }
        
        .dropdown-menu {
            position: absolute;
            top: calc(100% + 8px);
            right: 0;
            min-width: 160px;
            background: var(--bg-surface);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-xl);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all var(--transition-fast);
            z-index: 200;
            overflow: hidden;
        }
        
        .dropdown-menu.active { opacity: 1; visibility: visible; transform: translateY(0); }
        
        .dropdown-item {
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: background var(--transition-fast);
            border-bottom: 1px solid var(--border-subtle);
        }
        
        .dropdown-item:last-child { border-bottom: none; }
        .dropdown-item:hover { background: var(--bg-elevated); }
        .dropdown-item .flag { font-size: 1.25rem; }

        /* ‚ïê‚ïê‚ïê MAIN ‚ïê‚ïê‚ïê */
        .main-content {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 24px;
        }

        /* ‚ïê‚ïê‚ïê HERO ‚ïê‚ïê‚ïê */
        .hero { text-align: center; margin-bottom: 48px; }
        
        .energy-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: var(--radius-full);
            margin-bottom: 24px;
            font-size: 0.9rem;
        }
        
        .energy-badge i { color: #fbbf24; }
        
        .energy-badge .count {
            background: var(--gradient-primary);
            color: white;
            padding: 4px 12px;
            border-radius: var(--radius-full);
            font-weight: 700;
        }
        
        .greeting { font-size: 1.1rem; color: var(--primary-light); font-weight: 600; margin-bottom: 8px; }
        
        .hero-title {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 16px;
        }
        
        .hero-title .highlight {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .hero-subtitle {
            font-size: 1.1rem;
            color: var(--text-tertiary);
            max-width: 500px;
            margin: 0 auto 32px;
        }

        /* ‚ïê‚ïê‚ïê SEARCH ‚ïê‚ïê‚ïê */
        .search-section { max-width: 700px; margin: 0 auto 40px; }
        
        .ai-toggle {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            background: var(--bg-glass);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-full);
            margin-bottom: 20px;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .ai-toggle:hover { border-color: var(--primary-light); }
        .ai-toggle i { color: var(--primary-light); }
        .ai-toggle span { color: var(--text-secondary); font-weight: 500; }
        
        .ai-toggle input[type="checkbox"] {
            width: 44px;
            height: 24px;
            appearance: none;
            background: var(--bg-elevated);
            border-radius: var(--radius-full);
            position: relative;
            cursor: pointer;
        }
        
        .ai-toggle input[type="checkbox"]::before {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 18px;
            height: 18px;
            background: var(--text-muted);
            border-radius: 50%;
            transition: all var(--transition-fast);
        }
        
        .ai-toggle input[type="checkbox"]:checked { background: var(--primary); }
        .ai-toggle input[type="checkbox"]:checked::before { transform: translateX(20px); background: white; }
        
        .search-container { position: relative; }
        
        .search-input {
            width: 100%;
            padding: 20px 70px 20px 65px;
            font-family: inherit;
            font-size: 1.1rem;
            background: var(--bg-card);
            border: 2px solid var(--border-subtle);
            border-radius: var(--radius-2xl);
            color: var(--text-primary);
            text-align: center;
            transition: all var(--transition-normal);
            backdrop-filter: blur(10px);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary-light);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.15), var(--shadow-glow);
        }
        
        .search-input::placeholder { color: var(--text-muted); }
        
        .voice-btn {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            width: 44px;
            height: 44px;
            background: transparent;
            border: none;
            color: var(--text-muted);
            font-size: 1.25rem;
            cursor: pointer;
            border-radius: var(--radius-lg);
            transition: all var(--transition-fast);
        }
        
        .voice-btn:hover { color: var(--primary-light); background: rgba(99, 102, 241, 0.1); }
        .voice-btn.recording { color: var(--danger); animation: pulse-ring 1.5s infinite; }
        
        @keyframes pulse-ring {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        
        .search-btn {
            position: absolute;
            left: 8px;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            border: none;
            border-radius: var(--radius-xl);
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all var(--transition-fast);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }
        
        .search-btn:hover { transform: translateY(-50%) scale(1.05); }
        
        .quick-filters { display: flex; justify-content: center; gap: 12px; flex-wrap: wrap; margin-top: 20px; }
        
        .filter-chip {
            padding: 8px 16px;
            background: var(--bg-glass);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-full);
            font-size: 0.85rem;
            color: var(--text-tertiary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all var(--transition-fast);
        }
        
        .filter-chip:hover {
            background: var(--bg-elevated);
            border-color: var(--primary-light);
            color: var(--primary-light);
            transform: translateY(-2px);
        }

        /* ‚ïê‚ïê‚ïê CATEGORIES ‚ïê‚ïê‚ïê */
        .categories {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 12px;
            margin-bottom: 40px;
        }
        
        .category-card {
            padding: 20px 12px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-xl);
            text-align: center;
            cursor: pointer;
            transition: all var(--transition-normal);
        }
        
        .category-card:hover {
            transform: translateY(-4px);
            border-color: var(--primary-light);
            box-shadow: var(--shadow-glow);
        }
        
        .category-card i { font-size: 1.75rem; color: var(--primary-light); margin-bottom: 8px; }
        .category-card span { font-size: 0.8rem; font-weight: 600; color: var(--text-secondary); }

        /* ‚ïê‚ïê‚ïê INVITE ‚ïê‚ïê‚ïê */
        .invite-card {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 16px 24px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: var(--radius-xl);
            cursor: pointer;
            transition: all var(--transition-fast);
            margin-bottom: 32px;
        }
        
        .invite-card:hover { transform: translateY(-2px); border-color: var(--primary-light); }
        .invite-card .icon { font-size: 1.5rem; }
        .invite-card .text { color: var(--text-secondary); font-weight: 500; }

        /* ‚ïê‚ïê‚ïê LAYOUT WRAPPER ‚ïê‚ïê‚ïê */
        .layout-wrapper {
            display: flex;
            gap: 24px;
            align-items: flex-start;
        }
        
        .results-container {
            flex: 3;
            display: flex;
            flex-direction: column;
            gap: 24px;
        }
        
        /* ‚ïê‚ïê‚ïê AFFILIATE CARD ‚ïê‚ïê‚ïê */
        .affiliate-card {
            flex: 1;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 2px solid var(--accent-amber);
            border-radius: var(--radius-2xl);
            padding: 20px;
            position: sticky;
            top: 100px;
            max-width: 280px;
        }
        
        .affiliate-card.hidden { display: none; }
        
        .affiliate-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: var(--radius-lg);
            margin-bottom: 16px;
        }
        
        .affiliate-card h3 {
            font-size: 1rem;
            margin-bottom: 8px;
            color: var(--text-primary);
            line-height: 1.4;
        }
        
        .affiliate-card .offer-text {
            font-size: 0.85rem;
            color: var(--accent-amber);
            margin-bottom: 12px;
        }
        
        .affiliate-btn {
            display: block;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            text-align: center;
            padding: 12px;
            border-radius: var(--radius-lg);
            text-decoration: none;
            color: white;
            font-weight: 700;
            transition: all var(--transition-fast);
        }
        
        .affiliate-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4); }

        /* ‚ïê‚ïê‚ïê PRODUCT CARD ‚ïê‚ïê‚ïê */
        .product-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-2xl);
            overflow: hidden;
            backdrop-filter: blur(10px);
            animation: cardEnter 0.5s ease forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .product-card:nth-child(1) { animation-delay: 0.1s; }
        .product-card:nth-child(2) { animation-delay: 0.2s; }
        .product-card:nth-child(3) { animation-delay: 0.3s; }
        .product-card:nth-child(4) { animation-delay: 0.4s; }
        .product-card:nth-child(5) { animation-delay: 0.5s; }
        
        @keyframes cardEnter { to { opacity: 1; transform: translateY(0); } }
        
        .product-card.over-budget { border: 2px solid var(--danger); background: rgba(239, 68, 68, 0.05); }
        
        .budget-alert {
            background: var(--danger);
            color: white;
            padding: 8px 16px;
            font-size: 0.85rem;
            font-weight: 700;
            text-align: center;
        }
        
        .product-header {
            display: flex;
            gap: 20px;
            padding: 24px;
        }
        
        .product-image-wrapper {
            flex-shrink: 0;
            width: 180px;
            height: 180px;
            background: white;
            border-radius: var(--radius-xl);
            overflow: hidden;
            position: relative;
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 12px;
            transition: transform var(--transition-normal);
        }
        
        .product-card:hover .product-image { transform: scale(1.05); }
        
        .product-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 4px 8px;
            background: var(--gradient-success);
            color: white;
            font-size: 0.7rem;
            font-weight: 700;
            border-radius: var(--radius-md);
            text-transform: uppercase;
        }
        
        .product-info { flex: 1; display: flex; flex-direction: column; }
        
        .product-title {
            font-size: 1.1rem;
            font-weight: 600;
            line-height: 1.5;
            margin-bottom: 12px;
            color: var(--text-primary);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .product-pricing { display: flex; align-items: baseline; gap: 12px; margin-bottom: 16px; }
        
        .current-price { font-size: 1.75rem; font-weight: 800; color: var(--success); }
        .old-price { font-size: 1rem; color: var(--text-muted); text-decoration: line-through; }
        
        .discount-badge {
            padding: 4px 8px;
            background: rgba(16, 185, 129, 0.15);
            color: var(--success);
            font-size: 0.75rem;
            font-weight: 700;
            border-radius: var(--radius-md);
        }

        /* ‚ïê‚ïê‚ïê VERDICT ‚ïê‚ïê‚ïê */
        .verdict-section {
            padding: 16px 24px;
            background: var(--bg-glass);
            border-top: 1px solid var(--border-subtle);
            border-bottom: 1px solid var(--border-subtle);
        }
        
        .verdict-header { display: flex; align-items: center; gap: 12px; margin-bottom: 8px; }
        
        .verdict-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .verdict-icon.buy { background: rgba(16, 185, 129, 0.15); }
        .verdict-icon.wait { background: rgba(245, 158, 11, 0.15); }
        .verdict-icon.avoid { background: rgba(239, 68, 68, 0.15); }
        
        .verdict-title { font-size: 1.1rem; font-weight: 700; }
        .verdict-title.buy { color: var(--success); }
        .verdict-title.wait { color: var(--warning); }
        .verdict-title.avoid { color: var(--danger); }
        
        .verdict-reason { color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; }
        
        .verdict-meta {
            display: flex;
            gap: 16px;
            margin-top: 12px;
            font-size: 0.85rem;
        }
        
        .verdict-meta span { color: var(--text-tertiary); }
        .verdict-meta strong { color: var(--text-primary); }

        /* ‚ïê‚ïê‚ïê INTEL GRID ‚ïê‚ïê‚ïê */
        .intel-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            padding: 20px 24px;
        }
        
        .intel-item {
            padding: 16px;
            background: var(--bg-glass);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            text-align: center;
        }
        
        .intel-item .icon { font-size: 1.25rem; margin-bottom: 8px; }
        .intel-item .label { font-size: 0.75rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px; }
        .intel-item .value { font-size: 0.95rem; font-weight: 700; }
        .intel-item .value.good { color: var(--success); }
        .intel-item .value.warning { color: var(--warning); }
        .intel-item .value.danger { color: var(--danger); }

        /* ‚ïê‚ïê‚ïê INTEL SECTION ‚ïê‚ïê‚ïê */
        .intel-section {
            background: var(--bg-glass);
            padding: 16px;
            border-radius: var(--radius-lg);
            margin: 12px 24px;
            border: 1px solid var(--border-subtle);
        }
        
        .intel-section h4 {
            margin: 0 0 8px 0;
            font-size: 0.9rem;
            color: var(--primary-light);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .intel-section p { margin: 4px 0; font-size: 0.85rem; color: var(--text-secondary); }
        .intel-section ul { margin: 8px 0; padding-right: 20px; font-size: 0.85rem; }
        .intel-section ul li { color: var(--text-secondary); margin: 4px 0; }

        /* ‚ïê‚ïê‚ïê COUPON ‚ïê‚ïê‚ïê */
        .coupon-box {
            margin: 16px 24px;
            padding: 16px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: var(--radius-lg);
            border: 1px dashed var(--success);
        }
        
        .coupon-header { display: flex; align-items: center; gap: 12px; margin-bottom: 8px; }
        .coupon-code { font-family: var(--font-mono); font-size: 1.1rem; font-weight: 700; color: var(--success); letter-spacing: 1px; }
        .coupon-discount { padding: 4px 8px; background: var(--success); color: white; font-size: 0.75rem; font-weight: 700; border-radius: var(--radius-md); }
        .coupon-after { font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 8px; }
        .coupon-after strong { color: var(--success); }
        .coupon-copy {
            background: var(--success);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: var(--radius-md);
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        .coupon-copy:hover { filter: brightness(1.1); }

        /* ‚ïê‚ïê‚ïê ACTION BUTTONS ‚ïê‚ïê‚ïê */
        .action-buttons { display: flex; gap: 12px; padding: 20px 24px; }
        
        .btn {
            flex: 1;
            padding: 14px 20px;
            border-radius: var(--radius-xl);
            font-family: inherit;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-decoration: none;
            transition: all var(--transition-fast);
            border: none;
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }
        
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4); }
        
        .btn-secondary {
            background: var(--bg-glass);
            border: 1px solid var(--border-default);
            color: var(--text-primary);
        }
        
        .btn-secondary:hover { border-color: var(--primary-light); color: var(--primary-light); }
        
        .btn-warning {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid var(--warning);
            color: var(--warning);
        }
        
        .btn-warning:hover { background: var(--warning); color: white; }
        
        .btn.disabled { opacity: 0.5; cursor: not-allowed; }

        /* ‚ïê‚ïê‚ïê CHAT ‚ïê‚ïê‚ïê */
        .chat-bubble {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 64px;
            height: 64px;
            background: var(--gradient-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--shadow-xl), var(--shadow-glow);
            z-index: 300;
            transition: all var(--transition-fast);
        }
        
        .chat-bubble:hover { transform: scale(1.1); }
        .chat-bubble .unread-dot { position: absolute; top: 8px; right: 8px; width: 12px; height: 12px; background: var(--success); border-radius: 50%; border: 2px solid var(--primary); animation: pulse 2s infinite; }
        
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        
        .chat-window {
            position: fixed;
            bottom: 100px;
            right: 24px;
            width: 380px;
            max-width: calc(100vw - 48px);
            height: 520px;
            max-height: calc(100vh - 150px);
            background: var(--bg-surface);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-2xl);
            display: none;
            flex-direction: column;
            box-shadow: var(--shadow-xl);
            z-index: 300;
            overflow: hidden;
        }
        
        .chat-window.active { display: flex; animation: slideUp 0.3s ease; }
        
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px) scale(0.95); } to { opacity: 1; transform: translateY(0) scale(1); } }
        
        .chat-header {
            padding: 20px;
            background: var(--gradient-primary);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-header-content { display: flex; align-items: center; gap: 12px; }
        .chat-avatar { width: 44px; height: 44px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.25rem; }
        .chat-title { font-weight: 600; }
        .chat-status { display: flex; align-items: center; gap: 8px; font-size: 0.8rem; opacity: 0.9; }
        .chat-status .dot { width: 8px; height: 8px; background: var(--success); border-radius: 50%; }
        .chat-close { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; opacity: 0.8; }
        .chat-close:hover { opacity: 1; }
        
        .chat-messages { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; }
        
        .message { max-width: 85%; padding: 12px 16px; border-radius: var(--radius-xl); font-size: 0.9rem; line-height: 1.5; }
        .message.bot { background: var(--bg-elevated); align-self: flex-start; border-bottom-left-radius: var(--radius-md); }
        .message.user { background: var(--gradient-primary); color: white; align-self: flex-end; border-bottom-right-radius: var(--radius-md); }
        
        .chat-input-area { padding: 16px; border-top: 1px solid var(--border-subtle); display: flex; gap: 12px; }
        
        .chat-input {
            flex: 1;
            padding: 12px 16px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-full);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.9rem;
        }
        
        .chat-input:focus { outline: none; border-color: var(--primary-light); }
        
        .chat-send {
            width: 48px;
            height: 48px;
            background: var(--gradient-primary);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .chat-send:hover { transform: scale(1.05); }

        /* ‚ïê‚ïê‚ïê AUTH OVERLAY ‚ïê‚ïê‚ïê */
        .auth-overlay {
            position: fixed;
            inset: 0;
            background: var(--bg-canvas);
            z-index: 400;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 24px;
        }
        
        .auth-overlay.hidden { display: none; }
        
        .auth-card {
            background: var(--bg-surface);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-2xl);
            padding: 40px;
            width: 100%;
            max-width: 440px;
            text-align: center;
            box-shadow: var(--shadow-xl);
        }
        
        .auth-logo {
            width: 72px;
            height: 72px;
            background: var(--gradient-primary);
            border-radius: var(--radius-xl);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 2rem;
            color: white;
            box-shadow: var(--shadow-glow);
        }
        
        .auth-title { font-size: 1.75rem; font-weight: 700; margin-bottom: 8px; }
        .auth-subtitle { color: var(--text-muted); margin-bottom: 32px; }
        
        .auth-input {
            width: 100%;
            padding: 14px 16px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 1rem;
            margin-bottom: 12px;
        }
        
        .auth-input:focus { outline: none; border-color: var(--primary-light); }
        
        .auth-buttons { display: flex; gap: 12px; margin-top: 16px; }
        .auth-buttons .btn { flex: 1; }
        
        .auth-divider { display: flex; align-items: center; gap: 16px; margin: 24px 0; color: var(--text-muted); font-size: 0.85rem; }
        .auth-divider::before, .auth-divider::after { content: ''; flex: 1; height: 1px; background: var(--border-subtle); }
        
        .google-btn {
            width: 100%;
            padding: 14px;
            background: white;
            border: 1px solid var(--border-default);
            border-radius: var(--radius-lg);
            font-family: inherit;
            font-size: 0.95rem;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            transition: all var(--transition-fast);
        }
        
        .google-btn:hover { background: #f8f8f8; transform: translateY(-2px); }
        
        .auth-links { margin-top: 32px; font-size: 0.85rem; }
        .auth-links a { color: var(--text-muted); text-decoration: none; margin: 0 8px; transition: color var(--transition-fast); }
        .auth-links a:hover { color: var(--primary-light); }

        /* ‚ïê‚ïê‚ïê MODALS ‚ïê‚ïê‚ïê */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 500;
            padding: 24px;
        }
        
        .modal-backdrop.active { display: flex; }
        
        .modal-content {
            background: var(--bg-surface);
            border: 1px solid var(--border-default);
            border-radius: var(--radius-2xl);
            padding: 32px;
            width: 100%;
            max-width: 480px;
            max-height: 80vh;
            overflow-y: auto;
            animation: modalEnter 0.3s ease;
        }
        
        @keyframes modalEnter { from { opacity: 0; transform: scale(0.95) translateY(20px); } to { opacity: 1; transform: scale(1) translateY(0); } }
        
        .modal-header { display: flex; align-items: center; gap: 12px; margin-bottom: 24px; }
        .modal-header i { font-size: 1.5rem; color: var(--primary-light); }
        .modal-header h3 { font-size: 1.25rem; font-weight: 700; }
        .modal-body { margin-bottom: 24px; }
        .modal-footer { display: flex; gap: 12px; }
        .modal-footer .btn { flex: 1; }

        /* ‚ïê‚ïê‚ïê ANALYSIS MODAL ‚ïê‚ïê‚ïê */
        .analysis-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 600;
            padding: 24px;
        }
        
        .analysis-modal.active { display: flex; }
        
        .analysis-modal-content {
            background: var(--bg-surface);
            border: 2px solid var(--primary);
            border-radius: var(--radius-2xl);
            padding: 32px;
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.2);
        }
        
        .analysis-modal-header { margin-bottom: 24px; }
        .analysis-modal-header h3 { font-size: 1.25rem; color: var(--primary-light); display: flex; align-items: center; gap: 10px; }
        
        .analysis-section { margin-bottom: 20px; padding: 16px; background: var(--bg-glass); border-radius: var(--radius-lg); }
        .analysis-section h4 { font-size: 0.95rem; color: var(--primary-light); margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
        .analysis-section p { margin: 6px 0; font-size: 0.85rem; color: var(--text-secondary); }
        .analysis-section ul { margin: 8px 0; padding-right: 20px; }
        .analysis-section ul li { font-size: 0.85rem; color: var(--text-secondary); margin: 6px 0; }

        /* ‚ïê‚ïê‚ïê UPGRADE SECTION ‚ïê‚ïê‚ïê */
        .upgrade-section {
            background: var(--bg-card);
            border: 2px solid var(--danger);
            border-radius: var(--radius-2xl);
            padding: 32px;
            text-align: center;
            margin: 24px auto;
            max-width: 500px;
        }
        
        .upgrade-icon { width: 72px; height: 72px; background: rgba(239, 68, 68, 0.15); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 16px; font-size: 2rem; }
        .upgrade-title { font-size: 1.5rem; font-weight: 700; color: var(--danger); margin-bottom: 12px; }
        .upgrade-text { color: var(--text-secondary); margin-bottom: 24px; }
        
        .upgrade-btn {
            background: var(--gradient-primary);
            color: white;
            padding: 14px 32px;
            border: none;
            border-radius: var(--radius-full);
            font-family: inherit;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .upgrade-btn:hover { transform: translateY(-2px); box-shadow: var(--shadow-glow); }

        /* ‚ïê‚ïê‚ïê LOADING ‚ïê‚ïê‚ïê */
        .loading-container { text-align: center; padding: 48px; }
        
        .loading-spinner {
            width: 56px;
            height: 56px;
            border: 3px solid var(--border-subtle);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 16px;
        }
        
        @keyframes spin { to { transform: rotate(360deg); } }
        .loading-text { color: var(--text-muted); }

        /* ‚ïê‚ïê‚ïê STATUS ‚ïê‚ïê‚ïê */
        .status-message {
            padding: 16px 20px;
            border-radius: var(--radius-xl);
            font-weight: 500;
            margin: 16px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .status-message.error { background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); color: var(--danger); }
        .status-message.success { background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); color: var(--success); }
        .status-message.info { background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); color: #3b82f6; }

        /* ‚ïê‚ïê‚ïê FOOTER ‚ïê‚ïê‚ïê */
        .footer {
            text-align: center;
            padding: 32px 24px;
            color: var(--text-muted);
            font-size: 0.85rem;
            border-top: 1px solid var(--border-subtle);
            margin-top: 48px;
        }
        
        .footer-links { display: flex; justify-content: center; gap: 24px; margin-bottom: 16px; }
        .footer-links a { color: var(--text-tertiary); text-decoration: none; transition: color var(--transition-fast); }
        .footer-links a:hover { color: var(--primary-light); }

        /* ‚ïê‚ïê‚ïê RESPONSIVE ‚ïê‚ïê‚ïê */
        @media (max-width: 1024px) {
            .product-header { flex-direction: column; align-items: center; text-align: center; }
            .product-image-wrapper { width: 160px; height: 160px; }
            .intel-grid { grid-template-columns: repeat(2, 1fr); }
            .affiliate-card { display: none; }
            .layout-wrapper { flex-direction: column; }
        }
        
        @media (max-width: 768px) {
            .header { padding: 12px 16px; }
            .brand-tagline { display: none; }
            .main-content { padding: 24px 16px; }
            .hero-title { font-size: 2rem; }
            .search-input { padding: 16px 60px 16px 55px; font-size: 1rem; }
            .voice-btn { right: 12px; width: 38px; height: 38px; }
            .search-btn { width: 42px; height: 42px; left: 6px; }
            .categories { grid-template-columns: repeat(3, 1fr); gap: 8px; }
            .category-card { padding: 16px 8px; }
            .category-card i { font-size: 1.4rem; }
            .intel-grid { grid-template-columns: repeat(2, 1fr); padding: 16px; }
            .action-buttons { flex-direction: column; }
            .chat-window { right: 16px; bottom: 80px; width: calc(100vw - 32px); }
            .chat-bubble { right: 16px; bottom: 16px; width: 56px; height: 56px; }
        }
        
        @media (max-width: 480px) {
            .categories { grid-template-columns: repeat(2, 1fr); }
            .quick-filters { flex-direction: column; align-items: stretch; }
            .intel-grid { grid-template-columns: 1fr; }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
        }
        
        *:focus-visible { outline: 2px solid var(--primary-light); outline-offset: 2px; }
        ::selection { background: rgba(99, 102, 241, 0.3); }
        
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-elevated); }
        ::-webkit-scrollbar-thumb { background: var(--border-default); border-radius: 50px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--border-glow); }
    </style>
</head>
<body>
    <!-- Background Effects -->
    <div class="bg-effects">
        <div class="bg-mesh"></div>
        <div class="bg-orbs">
            <div class="orb orb-1"></div>
            <div class="orb orb-2"></div>
            <div class="orb orb-3"></div>
        </div>
        <div class="bg-grid"></div>
    </div>

    <!-- Chat Bubble -->
    <div class="chat-bubble" onclick="toggleChat()">
        <i class="fas fa-comments"></i>
        <span class="unread-dot"></span>
    </div>

    <!-- Chat Window -->
    <div class="chat-window" id="chat-window">
        <div class="chat-header">
            <div class="chat-header-content">
                <div class="chat-avatar"><i class="fas fa-robot"></i></div>
                <div>
                    <div class="chat-title">Findly AI</div>
                    <div class="chat-status"><span class="dot"></span><span id="chat-status-text">ŸÖÿ™ÿµŸÑ ÿßŸÑÿ¢ŸÜ</span></div>
                </div>
            </div>
            <button class="chat-close" onclick="toggleChat()">&times;</button>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="message bot">ŸÖÿ±ÿ≠ÿ®ÿßŸã! üëã ÿ£ŸÜÿß Findly Sageÿå ŸÖÿ≥ÿßÿπÿØŸÉ ÿßŸÑÿ∞ŸÉŸä ŸÑŸÑÿ™ÿ≥ŸàŸÇ. ŸÉŸäŸÅ ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉÿü</div>
        </div>
        <div class="chat-input-area">
            <input type="text" class="chat-input" id="chat-input" placeholder="ÿßŸÉÿ™ÿ® ÿ±ÿ≥ÿßŸÑÿ™ŸÉ..." onkeypress="handleChatKey(event)">
            <button class="chat-send" onclick="sendChatMessage()"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- Auth Overlay -->
    <div class="auth-overlay" id="auth-overlay" style="display: none;">
        <div class="auth-card">
            <div class="auth-logo"><i class="fas fa-wand-magic-sparkles"></i></div>
            <h1 class="auth-title">Findly <span style="color: var(--primary-light)">Sage</span></h1>
            <p class="auth-subtitle" id="auth-subtitle">ÿ≥ÿ¨ŸÑ ÿØÿÆŸàŸÑŸÉ ŸÑÿ™ÿ®ÿØÿ£ ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ∞ŸÉŸä</p>
            <input type="email" class="auth-input" id="auth-email" placeholder="ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä">
            <input type="password" class="auth-input" id="auth-password" placeholder="ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±">
            <div class="auth-buttons">
                <button class="btn btn-primary" onclick="handleLogin()"><i class="fas fa-sign-in-alt"></i><span id="auth-login-text">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿØÿÆŸàŸÑ</span></button>
                <button class="btn btn-secondary" onclick="handleRegister()"><i class="fas fa-user-plus"></i><span id="auth-register-text">ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®</span></button>
            </div>
            <div class="auth-divider"><span id="auth-or-text">ÿ£Ÿà</span></div>
            <button class="google-btn" onclick="loginWithGoogle()">
                <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google" width="20">
                <span id="auth-google-text">ŸÖÿ™ÿßÿ®ÿπÿ© ÿ®ŸÄ Google</span>
            </button>
            <div class="auth-links">
                <a href="privacy.html" id="link-privacy">ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©</a>
                <a href="terms.html" id="link-terms">ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ</a>
                <a href="about.html" id="link-about">ŸÖŸÜ ŸÜÿ≠ŸÜ</a>
            </div>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal-backdrop" id="profile-modal">
        <div class="modal-content">
            <div class="modal-header"><i class="fas fa-user-cog"></i><h3 id="profile-title">ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä</h3></div>
            <div class="modal-body">
                <label style="font-size: 0.9rem; color: var(--text-muted); display: block; margin-bottom: 8px;" id="lbl-name">ÿßŸÑÿßÿ≥ŸÖ</label>
                <input type="text" class="auth-input" id="in-name" placeholder="ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖŸÉ">
                <label style="font-size: 0.9rem; color: var(--text-muted); display: block; margin: 16px 0 8px;" id="lbl-budget">ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ© ($)</label>
                <input type="number" class="auth-input" id="in-budget" placeholder="ÿ£ŸÇÿµŸâ ŸÖŸäÿ≤ÿßŸÜŸäÿ©">
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="saveProfile()"><i class="fas fa-check"></i><span id="btn-save-settings">ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿ∫ŸäŸäÿ±ÿßÿ™</span></button>
                <button class="btn btn-secondary" onclick="closeModal('profile-modal')"><span id="btn-close-profile">ÿ•ÿ∫ŸÑÿßŸÇ</span></button>
            </div>
        </div>
    </div>

    <!-- Watchlist Modal -->
    <div class="modal-backdrop" id="watchlist-modal">
        <div class="modal-content">
            <div class="modal-header"><i class="fas fa-bell"></i><h3 id="watchlist-title">ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖÿ±ÿßŸÇÿ®ÿ©</h3></div>
            <div class="modal-body" id="watchlist-content"><p style="color: var(--text-muted); text-align: center; padding: 24px;">ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸÅŸä ÿßŸÑŸÇÿßÿ¶ŸÖÿ©</p></div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('watchlist-modal')"><span id="btn-close-watch">ÿ•ÿ∫ŸÑÿßŸÇ</span></button>
            </div>
        </div>
    </div>

    <!-- Analysis Modal -->
    <div class="analysis-modal" id="analysis-modal">
        <div class="analysis-modal-content">
            <div class="analysis-modal-header">
                <h3 id="analysis-modal-title"><i class="fas fa-brain"></i> ÿ™ÿ≠ŸÑŸäŸÑ Sage ÿßŸÑÿ∞ŸÉŸä</h3>
            </div>
            <div id="analysis-content-body"></div>
            <button class="btn btn-primary" style="width: 100%; margin-top: 20px;" onclick="closeAnalysisModal()">
                <span id="btn-close-analysis">ÿ•ÿ∫ŸÑÿßŸÇ</span>
            </button>
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="header-inner">
            <div class="brand">
                <div class="brand-logo"><i class="fas fa-wand-magic-sparkles"></i></div>
                <div>
                    <div class="brand-name">Findly Sage</div>
                    <div class="brand-tagline" id="hero-tagline">AI Shopping Intelligence</div>
                </div>
            </div>
            <div class="header-actions">
                <button class="btn-icon" onclick="toggleTheme()" title="ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÖÿ∏Ÿáÿ±"><i class="fas fa-circle-half-stroke"></i></button>
                <div class="dropdown-wrapper">
                    <button class="btn-icon" onclick="toggleLangMenu()" title="ÿßŸÑŸÑÿ∫ÿ©"><i class="fas fa-globe"></i></button>
                    <div class="dropdown-menu" id="lang-menu">
                        <div class="dropdown-item" onclick="setLang('ar')"><span class="flag">üá∏üá¶</span><span class="lang-name">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</span></div>
                        <div class="dropdown-item" onclick="setLang('en')"><span class="flag">üá∫üá∏</span><span class="lang-name">English</span></div>
                        <div class="dropdown-item" onclick="setLang('fr')"><span class="flag">üá´üá∑</span><span class="lang-name">Fran√ßais</span></div>
                        <div class="dropdown-item" onclick="setLang('de')"><span class="flag">üá©üá™</span><span class="lang-name">Deutsch</span></div>
                        <div class="dropdown-item" onclick="setLang('es')"><span class="flag">üá™üá∏</span><span class="lang-name">Espa√±ol</span></div>
                        <div class="dropdown-item" onclick="setLang('tr')"><span class="flag">üáπüá∑</span><span class="lang-name">T√ºrk√ße</span></div>
                    </div>
                </div>
                <button class="btn-icon" onclick="openWatchlist()" title="ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖÿ±ÿßŸÇÿ®ÿ©"><i class="fas fa-bell"></i><span class="badge" id="watch-badge" style="display: none;">0</span></button>
                <button class="btn-icon" onclick="openProfile()" title="ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä"><i class="fas fa-user-gear"></i></button>
                <button class="btn-icon" id="logout-btn" onclick="logout()" title="ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨"><i class="fas fa-right-from-bracket"></i></button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Hero -->
        <section class="hero">
            <div class="energy-badge">
                <span id="txt-energy">ÿ∑ÿßŸÇÿ© ÿßŸÑÿ®ÿ≠ÿ´:</span>
                <span class="count" id="r-count">‚àû</span>
                <i class="fas fa-bolt" style="color: #FFD700;"></i>
            </div>
            <h2 class="greeting" id="greeting">ŸÖÿ±ÿ≠ÿ®ÿßŸãÿå ÿ£ŸäŸáÿß ÿßŸÑÿ®ÿßÿ≠ÿ´</h2>
            <h1 class="hero-title"><span id="txt-title">ŸÖÿ≥ÿ™ÿ¥ÿßÿ±ŸÉ ÿßŸÑÿ∞ŸÉŸä</span><br><span class="highlight" id="txt-title2">ŸÑŸÑÿ™ÿ≥ŸàŸÇ ÿßŸÑŸÖÿ´ÿßŸÑŸä</span></h1>
            <p class="hero-subtitle" id="txt-sub">ÿØŸÑŸäŸÑŸÉ ÿßŸÑÿ∞ŸÉŸä ŸÑŸÑÿ™ÿ≥ŸàŸÇ ÿßŸÑŸÖÿ´ÿßŸÑŸä</p>
        </section>

        <!-- Search -->
        <section class="search-section">
            <div class="ai-toggle" onclick="toggleAiMode()">
                <i class="fas fa-brain"></i>
                <span id="txt-deep">Ÿàÿ∂ÿπ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ∞ŸÉŸä</span>
                <input type="checkbox" id="ai-deep-mode">
            </div>
            <div class="search-container">
                <input type="text" class="search-input" id="s-input" placeholder="ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ŸÖŸÜÿ™ÿ¨..." onkeypress="handleSearchKey(event)">
                <button class="voice-btn" id="mic-btn" onclick="startVoice()"><i class="fas fa-microphone"></i></button>
                <button class="search-btn" onclick="performSearch()"><i class="fas fa-search"></i></button>
            </div>
            <div class="quick-filters">
                <div class="filter-chip" onclick="quickFilter('cheap')"><i class="fas fa-sack-dollar"></i><span id="tag-cheap">ÿßŸÇÿ™ÿµÿßÿØŸä</span></div>
                <div class="filter-chip" onclick="quickFilter('top')"><i class="fas fa-star"></i><span id="tag-top">ÿßŸÑÿ£ÿπŸÑŸâ ÿ™ŸÇŸäŸäŸÖÿßŸã</span></div>
                <div class="filter-chip" onclick="quickFilter('new')"><i class="fas fa-fire"></i><span id="tag-new">ÿ≠ÿØŸäÿ´ ÿ¨ÿØÿßŸã</span></div>
            </div>
        </section>

        <!-- Categories -->
        <section class="categories">
            <div class="category-card" onclick="quickSearch('ÿ£ŸÑÿπÿßÿ®')"><i class="fas fa-gamepad"></i><span id="cat-game">ÿ£ŸÑÿπÿßÿ®</span></div>
            <div class="category-card" onclick="quickSearch('ÿ¨ŸÖÿßŸÑ')"><i class="fas fa-spa"></i><span id="cat-beauty">ÿ¨ŸÖÿßŸÑ</span></div>
            <div class="category-card" onclick="quickSearch('ŸÖŸÜÿ≤ŸÑ ÿ∞ŸÉŸä')"><i class="fas fa-home"></i><span id="cat-home">ŸÖŸÜÿ≤ŸÑ ÿ∞ŸÉŸä</span></div>
            <div class="category-card" onclick="quickSearch('ŸáŸàÿßÿ™ŸÅ')"><i class="fas fa-mobile-alt"></i><span id="cat-c1">ŸáŸàÿßÿ™ŸÅ</span></div>
            <div class="category-card" onclick="quickSearch('ŸÑÿßÿ®ÿ™Ÿàÿ®')"><i class="fas fa-laptop"></i><span id="cat-c2">ŸÑÿßÿ®ÿ™Ÿàÿ®</span></div>
            <div class="category-card" onclick="quickSearch('ÿ≥ÿßÿπÿßÿ™')"><i class="fas fa-clock"></i><span id="cat-c4">ÿ≥ÿßÿπÿßÿ™</span></div>
        </section>

        <!-- Invite Card -->
        <div class="invite-card" onclick="copyInviteLink()">
            <span class="icon">üöÄ</span>
            <span class="text" id="inviteText">ÿßÿØÿπŸè ÿ£ÿµÿØŸÇÿßÿ°ŸÉ ÿßŸÑÿ¢ŸÜ ‚ú® ‚Äî ŸÖŸÉÿßŸÅÿ¢ÿ™ ŸÇÿßÿØŸÖÿ© ŸÇÿ±Ÿäÿ®ÿßŸã üéÅ</span>
        </div>

        <!-- Status Container -->
        <div id="status-container"></div>

        <!-- Layout Wrapper with Results + Affiliate -->
        <div class="layout-wrapper">
            <div class="results-container" id="results"></div>
            <div class="affiliate-card hidden" id="affiliateCard">
                <img id="affImage" src="" alt="Special Offer">
                <h3 id="affTitle">ÿπÿ±ÿ∂ ŸÖŸÖŸäÿ≤</h3>
                <p class="offer-text" id="aff-offer">üî• ÿπÿ±ÿ∂ ŸÖŸÖŸäÿ≤ ŸÖÿ±ÿ™ÿ®ÿ∑ ÿ®ÿ®ÿ≠ÿ´ŸÉ</p>
                <a id="affBtn" href="#" target="_blank" class="affiliate-btn">üõí ÿ¥ÿ±ÿßÿ° ÿßŸÑÿ¢ŸÜ</a>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-links">
            <a href="privacy.html" id="footer-privacy">ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©</a>
            <a href="terms.html" id="footer-terms">ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ</a>
            <a href="about.html" id="footer-about">ŸÖŸÜ ŸÜÿ≠ŸÜ</a>
        </div>
        <p>¬© 2024 Findly Sage. ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ©.</p>
    </footer>

    <!-- Firebase -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, signInWithEmailAndPassword, createUserWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCI_q5lkgRY4133ua4RlG5TeiCqJ5N5KTU",
            authDomain: "findly-ede17.firebaseapp.com",
            projectId: "findly-ede17",
            storageBucket: "findly-ede17.firebasestorage.app",
            messagingSenderId: "503212830017",
            appId: "1:503212830017:web:9afb64c19822bbe7f645c0",
            measurementId: "G-X1Q3WDP50N"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        window.auth = auth;
        window.provider = provider;

        onAuthStateChanged(auth, (user) => {
            const overlay = document.getElementById('auth-overlay');
            if (user) {
                overlay.classList.add('hidden');
                localStorage.setItem('findly_uid', user.uid);
                if (user.displayName) {
                    localStorage.setItem('fn', user.displayName);
                    updateGreeting();
                }
            } else {
                overlay.classList.remove('hidden');
            }
        });

        window.loginWithGoogle = async () => {
            try { await signInWithPopup(auth, provider); } catch (error) { alert("ÿÆÿ∑ÿ£: " + error.message); }
        };

        window.handleLogin = async () => {
            const email = document.getElementById('auth-email').value;
            const password = document.getElementById('auth-password').value;
            const currentLang = localStorage.getItem('findly_lang') || 'ar';
            const authDict = dict[currentLang]?.auth || dict.ar.auth;
            if (!email || !password) return alert(authDict.fillFields);
            try { await signInWithEmailAndPassword(auth, email, password); }
            catch (error) {
                let msg = authDict.loginFailed;
                if (error.code === 'auth/user-not-found') msg = authDict.userNotFound;
                else if (error.code === 'auth/wrong-password') msg = authDict.wrongPassword;
                else if (error.code === 'auth/invalid-email') msg = authDict.invalidEmail;
                else if (error.code === 'auth/invalid-credential') msg = authDict.invalidCredential;
                else msg += " " + error.message;
                alert(msg);
            }
        };

        window.handleRegister = async () => {
            const email = document.getElementById('auth-email').value;
            const password = document.getElementById('auth-password').value;
            const currentLang = localStorage.getItem('findly_lang') || 'ar';
            const authDict = dict[currentLang]?.auth || dict.ar.auth;
            if (!email || !password) return alert(authDict.fillFields);
            if (password.length < 6) return alert(authDict.weakPassword);
            try {
                await createUserWithEmailAndPassword(auth, email, password);
                alert(authDict.registerSuccess);
            } catch (error) {
                let msg = authDict.registerFailed;
                if (error.code === 'auth/email-already-in-use') msg = authDict.emailInUse;
                else if (error.code === 'auth/weak-password') msg = authDict.weakPassword;
                else if (error.code === 'auth/invalid-email') msg = authDict.invalidEmail;
                else msg += " " + error.message;
                alert(msg);
            }
        };

        window.logout = () => {
            const currentLang = localStorage.getItem('findly_lang') || 'ar';
            const authDict = dict[currentLang]?.auth || dict.ar.auth;
            if (confirm(authDict.logoutConfirm)) {
                signOut(auth).then(() => { sessionStorage.removeItem('welcome_shown'); location.reload(); });
            }
        };
    </script>

    <script>
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // FINDLY SAGE - COMPLETE APPLICATION LOGIC
        // ÿ¨ŸÖŸäÿπ ÿßŸÑŸàÿ∏ÿßÿ¶ŸÅ ÿßŸÑÿ≥ÿßÿ®ŸÇÿ© + ÿßŸÑÿ™ÿ∑ŸàŸäÿ±
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        const API = "https://findly-api-production.up.railway.app";

        // State
        let lang = localStorage.getItem('findly_lang') || 'ar';
        let aiModeEnabled = false;

        // ‚ïê‚ïê‚ïê DICTIONARY ‚ïê‚ïê‚ïê
        const dict = {
            ar: {
                ui: {
                    hero_tagline: "ŸÇÿ±ÿßÿ±ÿßÿ™ ÿ¥ÿ±ÿßÿ° ÿ£ÿ∞ŸÉŸâ ÿ™ÿ®ÿØÿ£ ŸÖŸÜ ŸáŸÜÿß",
                    title: "ŸÖÿ≥ÿ™ÿ¥ÿßÿ±ŸÉ ÿßŸÑÿ≠ŸÉŸäŸÖ",
                    title2: "ŸÑŸÑÿ™ÿ≥ŸàŸÇ ÿßŸÑŸÖÿ´ÿßŸÑŸä",
                    sub: "ÿØŸÑŸäŸÑŸÉ ÿßŸÑÿ∞ŸÉŸä ŸÑŸÑÿ™ÿ≥ŸàŸÇ ÿßŸÑŸÖÿ´ÿßŸÑŸä",
                    energy: "ÿ∑ÿßŸÇÿ© ÿßŸÑÿπŸÇŸÑ",
                    welcome: "ŸÖÿ±ÿ≠ÿ®ÿßŸãÿå",
                    game: "ÿ£ŸÑÿπÿßÿ®", beauty: "ÿ¨ŸÖÿßŸÑ", home: "ŸÖŸÜÿ≤ŸÑ ÿ∞ŸÉŸä", c1: "ŸáŸàÿßÿ™ŸÅ", c2: "ŸÑÿßÿ®ÿ™Ÿàÿ®", c4: "ÿ≥ÿßÿπÿßÿ™",
                    p_head: "ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä",
                    lbl_name: "ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ",
                    lbl_budget: "ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ© ($)",
                    buy: "ÿ¥ÿ±ÿßÿ° ÿßŸÑÿ¢ŸÜ üõí",
                    watch: "ÿ±ÿßŸÇÿ® ÿßŸÑÿ≥ÿπÿ± üîî",
                    over: "Ÿäÿ™ÿ¨ÿßŸàÿ≤ ŸÖŸäÿ≤ÿßŸÜŸäÿ™ŸÉ",
                    cheap: "ÿßŸÇÿ™ÿµÿßÿØŸä", top: "ÿßŸÑÿ£ÿπŸÑŸâ ÿ™ŸÇŸäŸäŸÖÿßŸã", new: "ÿ≠ÿØŸäÿ´ ÿ¨ÿØÿßŸã",
                    deep: "Ÿàÿ∂ÿπ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ∞ŸÉŸä",
                    watchTitle: "ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖÿ±ÿßŸÇÿ®ÿ©",
                    why: "ŸÑŸÖÿßÿ∞ÿß ÿßÿÆÿ™ÿ±ŸÜÿß Ÿáÿ∞ÿßÿü",
                    slow: "ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ± Ÿäÿ≥ÿ™ŸäŸÇÿ∏.. ÿßŸÜÿ™ÿ∏ÿ± ÿ´ŸàÿßŸÜŸç",
                    noAttempts: "‚ö†Ô∏è ÿßÿ≥ÿ™ŸÜŸÅÿØÿ™ ŸÖÿ≠ÿßŸàŸÑÿßÿ™ŸÉ!",
                    analyze: "üìä ÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ≥ÿπÿ±",
                    close: "ÿ•ÿ∫ŸÑÿßŸÇ",
                    saveChanges: "ÿ≠ŸÅÿ∏ ÿßŸÑÿ™ÿ∫ŸäŸäÿ±ÿßÿ™ ‚úÖ",
                    searchPlaceholder: "ÿßÿ®ÿ≠ÿ´ ÿπŸÜ ŸÖŸÜÿ™ÿ¨...",
                    noResults: "ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÜÿ™ÿßÿ¶ÿ¨",
                    errorFetching: "‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿ¨ŸÑÿ® ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨",
                    affiliateOffer: "üî• ÿπÿ±ÿ∂ ŸÖŸÖŸäÿ≤ ŸÖÿ±ÿ™ÿ®ÿ∑ ÿ®ÿ®ÿ≠ÿ´ŸÉ",
                    buyNowAffiliate: "üõí ÿ¥ÿ±ÿßÿ° ÿßŸÑÿ¢ŸÜ",
                    namePlaceholder: "ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖŸÉ ŸáŸÜÿß...",
                    budgetPlaceholder: "ÿ£ŸÇÿµŸâ ŸÖŸäÿ≤ÿßŸÜŸäÿ© ŸÑÿØŸäŸÉ...",
                    settingsSaved: "ÿ™ŸÖ ÿ≠ŸÅÿ∏ ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™ ÿ®ŸÜÿ¨ÿßÿ≠!",
                    seeker: "ÿ£ŸäŸáÿß ÿßŸÑÿ®ÿßÿ≠ÿ´"
                },
                search: {
                    market: "ÿßŸÑÿ≥ŸàŸÇ",
                    avg_price: "ŸÖÿ™Ÿàÿ≥ÿ∑ ÿßŸÑÿ≥ÿπÿ±",
                    competitors: "ÿπÿØÿØ ÿßŸÑŸÖŸÜÿßŸÅÿ≥ŸäŸÜ",
                    value: "ŸÇŸäŸÖÿ© ÿßŸÑÿµŸÅŸÇÿ©",
                    deal_score: "ÿ™ŸÇŸäŸäŸÖ ÿßŸÑÿµŸÅŸÇÿ©",
                    learning_on: "ÿ≥Ÿäÿ™ÿ≠ÿ≥ŸÜ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ŸÖÿπ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ",
                    learning_later: "ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ŸÇŸäÿØ ÿßŸÑÿ™ÿπŸÑŸÖ",
                    forecast: "ÿßŸÑÿ™ŸàŸÇÿπ ÿßŸÑÿ≥ÿπÿ±Ÿä",
                    trend: { up: "ŸÇÿØ Ÿäÿ±ÿ™ŸÅÿπ ŸÇÿ±Ÿäÿ®Ÿãÿß", down: "ŸÇÿØ ŸäŸÜÿÆŸÅÿ∂", stable: "ŸÖÿ≥ÿ™ŸÇÿ±" },
                    expected_price: "ÿßŸÑÿ≥ÿπÿ± ÿßŸÑŸÖÿ™ŸàŸÇÿπ",
                    confidence: "ÿßŸÑÿ´ŸÇÿ©",
                    trust: "ÿßŸÑÿ´ŸÇÿ© ŸàÿßŸÑŸÖÿÆÿßÿ∑ÿ±",
                    no_risks: "ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖÿÆÿßÿ∑ÿ± Ÿàÿßÿ∂ÿ≠ÿ©",
                    buy: "ÿßÿ¥ÿ™ÿ±Ÿê",
                    analyze: "ÿ™ÿ≠ŸÑŸäŸÑ",
                    watch: "ÿ±ÿßŸÇÿ®",
                    after_discount: "ÿ®ÿπÿØ ÿßŸÑÿÆÿµŸÖ",
                    copy_coupon: "ŸÜÿ≥ÿÆ ÿßŸÑŸÉŸàÿ®ŸàŸÜ",
                    price: "ÿßŸÑÿ≥ÿπÿ±",
                    timing: "ÿßŸÑÿ™ŸàŸÇŸäÿ™",
                    behavior: "ÿßŸÑÿ≥ŸÑŸàŸÉ",
                    excellent: "ŸÖŸÖÿ™ÿßÿ≤", good: "ÿ¨ŸäÿØ", weak: "ÿ∂ÿπŸäŸÅ",
                    wait: "ÿßŸÜÿ™ÿ∏ÿ±", mayRise: "ŸÇÿØ Ÿäÿ±ÿ™ŸÅÿπ", stableTxt: "ŸÖÿ≥ÿ™ŸÇÿ±",
                    risk: "ŸÖÿÆÿßÿ∑ÿ±ÿ©", safe: "ÿ¢ŸÖŸÜ",
                    suitable: "ŸÖŸÜÿßÿ≥ÿ® ŸÑŸÉ", general: "ÿπÿßŸÖ",
                    smartDecision: "ŸÇÿ±ÿßÿ± ÿ∞ŸÉŸä: ÿßÿ¥ÿ™ÿ±Ÿê ÿßŸÑÿ¢ŸÜ",
                    preferWait: "ŸäŸÅÿ∂ŸÑ ÿßŸÑÿßŸÜÿ™ÿ∏ÿßÿ±",
                    waitPriceDrop: "ÿßŸÜÿ™ÿ∏ÿ± ÿßŸÜÿÆŸÅÿßÿ∂ ÿßŸÑÿ≥ÿπÿ±",
                    priceHigh: "ÿßŸÑÿ≥ÿπÿ± ŸÖÿ±ÿ™ŸÅÿπ",
                    saving: "ÿßŸÑÿ™ŸàŸÅŸäÿ±",
                    bestStore: "ÿ£ŸÅÿ∂ŸÑ ŸÖÿ™ÿ¨ÿ±",
                    confidenceScore: "ÿßŸÑÿ´ŸÇÿ©",
                    watchPrice: "ŸÖÿ±ÿßŸÇÿ®ÿ© ÿßŸÑÿ≥ÿπÿ±",
                    linkUnavailable: "ÿßŸÑÿ±ÿßÿ®ÿ∑ ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÅÿ±"
                },
                analysis: {
                    title: "üß† ÿ™ÿ≠ŸÑŸäŸÑ Sage ÿßŸÑÿ∞ŸÉŸä",
                    market: "ÿßŸÑÿ≥ŸàŸÇ",
                    avgPrice: "ŸÖÿ™Ÿàÿ≥ÿ∑ ÿßŸÑÿ≥ÿπÿ±",
                    competitors: "ÿπÿØÿØ ÿßŸÑŸÖŸÜÿßŸÅÿ≥ŸäŸÜ",
                    deal: "ÿßŸÑÿµŸÅŸÇÿ©",
                    dealScore: "ÿØÿ±ÿ¨ÿ© ÿßŸÑÿµŸÅŸÇÿ©",
                    forecast: "ÿßŸÑÿ™ŸàŸÇÿπ",
                    trend: "ÿßŸÑÿßÿ™ÿ¨ÿßŸá",
                    expectedPrice: "ÿ≥ÿπÿ± ŸÖÿ™ŸàŸÇÿπ",
                    confidence: "ÿ´ŸÇÿ©",
                    trustRisks: "ÿßŸÑÿ´ŸÇÿ© ŸàÿßŸÑŸÖÿÆÿßÿ∑ÿ±",
                    noClearRisks: "ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÖÿÆÿßÿ∑ÿ± Ÿàÿßÿ∂ÿ≠ÿ©"
                },
                auth: {
                    title: "ÿ≥ÿ¨ŸÑ ÿØÿÆŸàŸÑŸÉ ŸÑÿ™ÿ®ÿØÿ£ ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ∞ŸÉŸä",
                    email: "ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä",
                    password: "ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±",
                    login: "ÿ™ÿ≥ÿ¨ŸäŸÑ ÿØÿÆŸàŸÑ",
                    register: "ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ®",
                    or: "ÿ£Ÿà",
                    googleBtn: "ŸÖÿ™ÿßÿ®ÿπÿ© ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ¨Ÿàÿ¨ŸÑ",
                    privacy: "ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©",
                    terms: "ÿ¥ÿ±Ÿàÿ∑ ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ",
                    about: "ŸÖŸÜ ŸÜÿ≠ŸÜ",
                    logoutConfirm: "ŸáŸÑ ÿ™ÿ±ŸäÿØ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿÆÿ±Ÿàÿ¨ÿü",
                    fillFields: "ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ŸàŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±",
                    loginFailed: "ŸÅÿ¥ŸÑ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ:",
                    userNotFound: "Ÿáÿ∞ÿß ÿßŸÑÿ≠ÿ≥ÿßÿ® ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØÿå Ÿäÿ±ÿ¨Ÿâ ÿ•ŸÜÿ¥ÿßÿ° ÿ≠ÿ≥ÿßÿ® ÿ¨ÿØŸäÿØ.",
                    wrongPassword: "ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©.",
                    invalidEmail: "ÿµŸäÿ∫ÿ© ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©.",
                    invalidCredential: "ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿßÿπÿ™ŸÖÿßÿØ ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠ÿ©.",
                    registerFailed: "ŸÅÿ¥ŸÑ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿ≠ÿ≥ÿßÿ®:",
                    emailInUse: "Ÿáÿ∞ÿß ÿßŸÑÿ®ÿ±ŸäÿØ ŸÖÿ≥ÿ¨ŸÑ ÿ®ÿßŸÑŸÅÿπŸÑÿå ÿ≠ÿßŸàŸÑ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ.",
                    weakPassword: "ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ 6 ÿ£ÿ≠ÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ",
                    registerSuccess: "ÿ™ŸÖ ÿ•ŸÜÿ¥ÿßÿ° ÿßŸÑÿ≠ÿ≥ÿßÿ® ÿ®ŸÜÿ¨ÿßÿ≠! ÿ¨ÿßÿ±Ÿä ÿßŸÑÿØÿÆŸàŸÑ..."
                },
                upgrade: {
                    title: "ÿßŸÜÿ™Ÿáÿ™ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿßÿ™ ÿßŸÑŸÖÿ¨ÿßŸÜŸäÿ©",
                    message: "ŸÑŸÇÿØ ÿßÿ≥ÿ™ŸáŸÑŸÉÿ™ ÿ¨ŸÖŸäÿπ ÿπŸÖŸÑŸäÿßÿ™ ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑŸÖÿ¨ÿßŸÜŸäÿ©. Ÿäÿ±ÿ¨Ÿâ ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿßÿ¥ÿ™ÿ±ÿßŸÉ ŸÑŸÑŸÖÿ™ÿßÿ®ÿπÿ© ÿ®ÿØŸàŸÜ ÿ≠ÿØŸàÿØ.",
                    upgradeBtn: "ÿ™ÿ±ŸÇŸäÿ© ÿßŸÑÿ¢ŸÜ",
                    successTitle: "üéâ ÿ™ŸÖ ÿ™ŸÅÿπŸäŸÑ ÿßÿ¥ÿ™ÿ±ÿßŸÉŸÉ ÿ®ŸÜÿ¨ÿßÿ≠!",
                    successMessage: "ÿ™ŸÖ ÿ™ŸÅÿπŸäŸÑ ÿßÿ¥ÿ™ÿ±ÿßŸÉ Findly Pro ÿ®ŸÜÿ¨ÿßÿ≠. ŸäŸÖŸÉŸÜŸÉ ÿßŸÑÿ¢ŸÜ ÿßŸÑŸàÿµŸàŸÑ ÿ•ŸÑŸâ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖŸäÿ≤ÿßÿ™ ÿßŸÑŸÖÿ™ŸÇÿØŸÖÿ©.",
                    thanks: "ÿ¥ŸÉÿ±Ÿãÿß ŸÑÿØÿπŸÖŸÉ ü§ç",
                    goToDashboard: "ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ÿ•ŸÑŸâ ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ",
                    paymentUnavailable: "‚ö†Ô∏è ÿÆÿØŸÖÿ© ÿßŸÑÿØŸÅÿπ ÿ∫Ÿäÿ± ŸÖÿ™ÿßÿ≠ÿ©",
                    paymentError: "‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿÆÿØŸÖÿ© ÿßŸÑÿØŸÅÿπ"
                },
                voice: { notSupported: "ŸÖÿ™ÿµŸÅÿ≠ŸÉ ŸÑÿß ŸäÿØÿπŸÖ ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿµŸàÿ™Ÿä" },
                invite: { text: "ÿßÿØÿπŸè ÿ£ÿµÿØŸÇÿßÿ°ŸÉ ÿßŸÑÿ¢ŸÜ ‚ú® ‚Äî ŸÖŸÉÿßŸÅÿ¢ÿ™ ŸÇÿßÿØŸÖÿ© ŸÇÿ±Ÿäÿ®ÿßŸã üéÅ ‚Äî ŸÉŸÜ ŸÖŸÜ ÿßŸÑÿ£Ÿàÿßÿ¶ŸÑ üöÄ", copied: "ÿ™ŸÖ ŸÜÿ≥ÿÆ ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿØÿπŸàÿ© ‚ú®", copyFailed: "ŸÑŸÖ Ÿäÿ™ŸÖ ŸÜÿ≥ÿÆ ÿßŸÑÿ±ÿßÿ®ÿ∑ÿå ÿßŸÜÿ≥ÿÆŸá ŸäÿØŸàŸäŸãÿß:\n" },
                watch: { enterEmail: "ÿ£ÿØÿÆŸÑ ÿ•ŸäŸÖŸäŸÑŸÉ ŸÑŸÑÿ™ŸÜÿ®ŸäŸá ÿπŸÜÿØ ÿßŸÜÿÆŸÅÿßÿ∂ ÿßŸÑÿ≥ÿπÿ±:", activated: "‚úÖ ÿ™ŸÖ ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿ™ŸÜÿ®ŸäŸá ÿ®ŸÜÿ¨ÿßÿ≠!", serverError: "‚ùå ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿ≥Ÿäÿ±ŸÅÿ±: ", connectionFailed: "‚ùå ŸÅÿ¥ŸÑ ÿßŸÑÿßÿ™ÿµÿßŸÑ" }
            },
            en: {
                ui: {
                    hero_tagline: "Smarter buying decisions start here",
                    title: "Sage Advisor",
                    title2: "Perfect Shopping",
                    sub: "Your smart shopping guide",
                    energy: "Sage Energy",
                    welcome: "Welcome,",
                    game: "Gaming", beauty: "Beauty", home: "Smart Home", c1: "Phones", c2: "Laptops", c4: "Watches",
                    p_head: "Profile",
                    lbl_name: "Username",
                    lbl_budget: "Budget ($)",
                    buy: "Buy Now üõí",
                    watch: "Watch Price üîî",
                    over: "Over Budget!",
                    cheap: "Budget", top: "Top Rated", new: "Newest",
                    deep: "AI Deep Mode",
                    watchTitle: "Watch List",
                    why: "Why this choice?",
                    slow: "Server waking up.. wait",
                    noAttempts: "‚ö†Ô∏è No attempts left!",
                    analyze: "üìä Analysis",
                    close: "Close",
                    saveChanges: "Save Changes ‚úÖ",
                    searchPlaceholder: "Search for a product...",
                    noResults: "No results found",
                    errorFetching: "‚ùå Error fetching results",
                    affiliateOffer: "üî• Special offer related to your search",
                    buyNowAffiliate: "üõí Buy Now",
                    namePlaceholder: "Enter your name...",
                    budgetPlaceholder: "Your maximum budget...",
                    settingsSaved: "Settings saved successfully!",
                    seeker: "Seeker"
                },
                search: {
                    market: "Market",
                    avg_price: "Average price",
                    competitors: "Competitors",
                    value: "Deal value",
                    deal_score: "Deal score",
                    learning_on: "Analysis improves with usage",
                    learning_later: "Analysis is learning",
                    forecast: "Price forecast",
                    trend: { up: "Likely to rise", down: "Likely to drop", stable: "Stable" },
                    expected_price: "Expected price",
                    confidence: "Confidence",
                    trust: "Trust & risks",
                    no_risks: "No clear risks",
                    buy: "Buy",
                    analyze: "Analyze",
                    watch: "Watch",
                    after_discount: "After discount",
                    copy_coupon: "Copy coupon",
                    price: "Price",
                    timing: "Timing",
                    behavior: "Behavior",
                    excellent: "Excellent", good: "Good", weak: "Weak",
                    wait: "Wait", mayRise: "May rise", stableTxt: "Stable",
                    risk: "Risk", safe: "Safe",
                    suitable: "Suitable", general: "General",
                    smartDecision: "Smart decision: Buy now",
                    preferWait: "Better to wait",
                    waitPriceDrop: "Wait for price drop",
                    priceHigh: "Price is high",
                    saving: "Saving",
                    bestStore: "Best store",
                    confidenceScore: "Confidence",
                    watchPrice: "Watch Price",
                    linkUnavailable: "Link unavailable"
                },
                analysis: {
                    title: "üß† Sage Smart Analysis",
                    market: "Market",
                    avgPrice: "Average price",
                    competitors: "Competitors",
                    deal: "Deal",
                    dealScore: "Deal score",
                    forecast: "Forecast",
                    trend: "Trend",
                    expectedPrice: "Expected price",
                    confidence: "Confidence",
                    trustRisks: "Trust & Risks",
                    noClearRisks: "No clear risks"
                },
                auth: {
                    title: "Sign in to start smart search",
                    email: "Email",
                    password: "Password",
                    login: "Sign In",
                    register: "Sign Up",
                    or: "or",
                    googleBtn: "Continue with Google",
                    privacy: "Privacy Policy",
                    terms: "Terms of Use",
                    about: "About Us",
                    logoutConfirm: "Do you want to logout?",
                    fillFields: "Please enter email and password",
                    loginFailed: "Login failed:",
                    userNotFound: "Account not found, please create a new account.",
                    wrongPassword: "Incorrect password.",
                    invalidEmail: "Invalid email format.",
                    invalidCredential: "Invalid credentials.",
                    registerFailed: "Registration failed:",
                    emailInUse: "This email is already registered, try signing in.",
                    weakPassword: "Password must be at least 6 characters",
                    registerSuccess: "Account created successfully! Signing in..."
                },
                upgrade: {
                    title: "Free searches exhausted",
                    message: "You have used all your free searches. Please upgrade to continue.",
                    upgradeBtn: "Upgrade now",
                    successTitle: "üéâ Subscription Activated!",
                    successMessage: "Your Findly Pro subscription is now active.",
                    thanks: "Thank you for supporting Findly üíô",
                    goToDashboard: "Go to Dashboard",
                    paymentUnavailable: "‚ö†Ô∏è Payment unavailable",
                    paymentError: "‚ùå Payment service error"
                },
                voice: { notSupported: "Your browser does not support voice search" },
                invite: { text: "Invite your friends now ‚ú® ‚Äî features & rewards coming soon üéÅ ‚Äî be among the first üöÄ", copied: "Invite link copied ‚ú®", copyFailed: "Link not copied, copy manually:\n" },
                watch: { enterEmail: "Enter your email for price alerts:", activated: "‚úÖ Alert activated!", serverError: "‚ùå Server Error: ", connectionFailed: "‚ùå Connection failed" }
            },
            fr: {
                ui: {
                    hero_tagline: "Des d√©cisions d'achat plus intelligentes",
                    title: "Conseiller Sage",
                    title2: "Shopping Parfait",
                    sub: "Votre guide d'achat intelligent",
                    energy: "√ânergie Sage",
                    welcome: "Bienvenue,",
                    game: "Jeux", beauty: "Beaut√©", home: "Maison Intelligente", c1: "T√©l√©phones", c2: "Ordinateurs", c4: "Montres",
                    p_head: "Profil",
                    lbl_name: "Nom d'utilisateur",
                    lbl_budget: "Budget ($)",
                    buy: "Acheter üõí",
                    watch: "Surveiller üîî",
                    over: "Hors budget!",
                    cheap: "√âconomique", top: "Mieux not√©s", new: "Nouveaut√©s",
                    deep: "Mode IA Profonde",
                    watchTitle: "Liste de surveillance",
                    why: "Pourquoi ce choix?",
                    slow: "Le serveur se r√©veille..",
                    noAttempts: "‚ö†Ô∏è Plus d'essais!",
                    analyze: "üìä Analyse",
                    close: "Fermer",
                    saveChanges: "Enregistrer ‚úÖ",
                    searchPlaceholder: "Rechercher un produit...",
                    noResults: "Aucun r√©sultat",
                    errorFetching: "‚ùå Erreur lors de la r√©cup√©ration",
                    affiliateOffer: "üî• Offre sp√©ciale",
                    buyNowAffiliate: "üõí Acheter maintenant",
                    namePlaceholder: "Entrez votre nom...",
                    budgetPlaceholder: "Votre budget maximum...",
                    settingsSaved: "Param√®tres enregistr√©s!",
                    seeker: "Chercheur"
                },
                search: {
                    market: "March√©",
                    avg_price: "Prix moyen",
                    competitors: "Concurrents",
                    value: "Valeur de l'offre",
                    deal_score: "Score de l'offre",
                    learning_on: "L'analyse s'am√©liore",
                    learning_later: "Analyse en cours",
                    forecast: "Pr√©vision de prix",
                    trend: { up: "Probablement hausse", down: "Probablement baisse", stable: "Stable" },
                    expected_price: "Prix attendu",
                    confidence: "Confiance",
                    trust: "Confiance et risques",
                    no_risks: "Aucun risque clair",
                    buy: "Acheter",
                    analyze: "Analyser",
                    watch: "Surveiller",
                    after_discount: "Apr√®s remise",
                    copy_coupon: "Copier le coupon",
                    price: "Prix",
                    timing: "Timing",
                    behavior: "Comportement",
                    excellent: "Excellent", good: "Bon", weak: "Faible",
                    wait: "Attendre", mayRise: "Peut augmenter", stableTxt: "Stable",
                    risk: "Risque", safe: "S√ªr",
                    suitable: "Adapt√©", general: "G√©n√©ral",
                    smartDecision: "D√©cision intelligente: Acheter",
                    preferWait: "Mieux vaut attendre",
                    waitPriceDrop: "Attendre une baisse",
                    priceHigh: "Prix √©lev√©",
                    saving: "√âconomie",
                    bestStore: "Meilleur magasin",
                    confidenceScore: "Confiance",
                    watchPrice: "Surveiller le prix",
                    linkUnavailable: "Lien non disponible"
                },
                analysis: {
                    title: "üß† Analyse Sage Intelligente",
                    market: "March√©",
                    avgPrice: "Prix moyen",
                    competitors: "Concurrents",
                    deal: "Offre",
                    dealScore: "Score de l'offre",
                    forecast: "Pr√©vision",
                    trend: "Tendance",
                    expectedPrice: "Prix attendu",
                    confidence: "Confiance",
                    trustRisks: "Confiance et Risques",
                    noClearRisks: "Aucun risque clair"
                },
                auth: {
                    title: "Connectez-vous pour commencer",
                    email: "E-mail",
                    password: "Mot de passe",
                    login: "Se connecter",
                    register: "S'inscrire",
                    or: "ou",
                    googleBtn: "Continuer avec Google",
                    privacy: "Politique de confidentialit√©",
                    terms: "Conditions d'utilisation",
                    about: "√Ä propos",
                    logoutConfirm: "Voulez-vous vous d√©connecter?",
                    fillFields: "Veuillez entrer l'e-mail et le mot de passe",
                    loginFailed: "√âchec de la connexion:",
                    userNotFound: "Compte non trouv√©.",
                    wrongPassword: "Mot de passe incorrect.",
                    invalidEmail: "Format d'e-mail invalide.",
                    invalidCredential: "Identifiants invalides.",
                    registerFailed: "√âchec de l'inscription:",
                    emailInUse: "Cet e-mail est d√©j√† enregistr√©.",
                    weakPassword: "Le mot de passe doit contenir au moins 6 caract√®res",
                    registerSuccess: "Compte cr√©√© avec succ√®s!"
                },
                upgrade: {
                    title: "Recherches gratuites √©puis√©es",
                    message: "Vous avez utilis√© toutes vos recherches gratuites.",
                    upgradeBtn: "Mettre √† niveau",
                    successTitle: "üéâ Abonnement activ√©!",
                    successMessage: "Votre abonnement Findly Pro est maintenant actif.",
                    thanks: "Merci pour votre soutien üíô",
                    goToDashboard: "Aller au tableau de bord",
                    paymentUnavailable: "‚ö†Ô∏è Paiement indisponible",
                    paymentError: "‚ùå Erreur du service de paiement"
                },
                voice: { notSupported: "Votre navigateur ne prend pas en charge la recherche vocale" },
                invite: { text: "Invitez vos amis maintenant ‚ú® ‚Äî fonctionnalit√©s et r√©compenses bient√¥t üéÅ", copied: "Lien d'invitation copi√© ‚ú®", copyFailed: "Lien non copi√©:\n" },
                watch: { enterEmail: "Entrez votre e-mail pour les alertes:", activated: "‚úÖ Alerte activ√©e!", serverError: "‚ùå Erreur serveur: ", connectionFailed: "‚ùå √âchec de la connexion" }
            },
            de: {
                ui: {
                    hero_tagline: "Intelligentere Kaufentscheidungen",
                    title: "Weiser Berater",
                    title2: "Perfektes Shopping",
                    sub: "Ihr intelligenter Einkaufsf√ºhrer",
                    energy: "Sage Energie",
                    welcome: "Willkommen,",
                    game: "Spiele", beauty: "Sch√∂nheit", home: "Smart Home", c1: "Handys", c2: "Laptops", c4: "Uhren",
                    p_head: "Profil",
                    lbl_name: "Benutzername",
                    lbl_budget: "Budget ($)",
                    buy: "Jetzt kaufen üõí",
                    watch: "Preis beobachten üîî",
                    over: "√úber Budget!",
                    cheap: "Budget", top: "Top bewertet", new: "Neueste",
                    deep: "KI Tiefenmodus",
                    watchTitle: "Beobachtungsliste",
                    why: "Warum diese Wahl?",
                    slow: "Server startet..",
                    noAttempts: "‚ö†Ô∏è Keine Versuche mehr!",
                    analyze: "üìä Analyse",
                    close: "Schlie√üen",
                    saveChanges: "Speichern ‚úÖ",
                    searchPlaceholder: "Produkt suchen...",
                    noResults: "Keine Ergebnisse",
                    errorFetching: "‚ùå Fehler beim Abrufen",
                    affiliateOffer: "üî• Sonderangebot",
                    buyNowAffiliate: "üõí Jetzt kaufen",
                    namePlaceholder: "Geben Sie Ihren Namen ein...",
                    budgetPlaceholder: "Ihr maximales Budget...",
                    settingsSaved: "Einstellungen gespeichert!",
                    seeker: "Sucher"
                },
                search: {
                    market: "Markt",
                    avg_price: "Durchschnittspreis",
                    competitors: "Wettbewerber",
                    value: "Angebotswert",
                    deal_score: "Angebotsbewertung",
                    learning_on: "Analyse verbessert sich",
                    learning_later: "Analyse lernt",
                    forecast: "Preisprognose",
                    trend: { up: "Wahrscheinlich steigend", down: "Wahrscheinlich fallend", stable: "Stabil" },
                    expected_price: "Erwarteter Preis",
                    confidence: "Vertrauen",
                    trust: "Vertrauen & Risiken",
                    no_risks: "Keine klaren Risiken",
                    buy: "Kaufen",
                    analyze: "Analysieren",
                    watch: "Beobachten",
                    after_discount: "Nach Rabatt",
                    copy_coupon: "Gutschein kopieren",
                    price: "Preis",
                    timing: "Zeitpunkt",
                    behavior: "Verhalten",
                    excellent: "Ausgezeichnet", good: "Gut", weak: "Schwach",
                    wait: "Warten", mayRise: "Kann steigen", stableTxt: "Stabil",
                    risk: "Risiko", safe: "Sicher",
                    suitable: "Geeignet", general: "Allgemein",
                    smartDecision: "Kluge Entscheidung: Jetzt kaufen",
                    preferWait: "Besser warten",
                    waitPriceDrop: "Auf Preissturz warten",
                    priceHigh: "Preis ist hoch",
                    saving: "Ersparnis",
                    bestStore: "Bester Laden",
                    confidenceScore: "Vertrauen",
                    watchPrice: "Preis beobachten",
                    linkUnavailable: "Link nicht verf√ºgbar"
                },
                analysis: {
                    title: "üß† Sage Intelligente Analyse",
                    market: "Markt",
                    avgPrice: "Durchschnittspreis",
                    competitors: "Wettbewerber",
                    deal: "Angebot",
                    dealScore: "Angebotsbewertung",
                    forecast: "Prognose",
                    trend: "Trend",
                    expectedPrice: "Erwarteter Preis",
                    confidence: "Vertrauen",
                    trustRisks: "Vertrauen & Risiken",
                    noClearRisks: "Keine klaren Risiken"
                },
                auth: {
                    title: "Anmelden um intelligentes Suchen zu starten",
                    email: "E-Mail",
                    password: "Passwort",
                    login: "Anmelden",
                    register: "Registrieren",
                    or: "oder",
                    googleBtn: "Mit Google fortfahren",
                    privacy: "Datenschutz",
                    terms: "Nutzungsbedingungen",
                    about: "√úber uns",
                    logoutConfirm: "M√∂chten Sie sich abmelden?",
                    fillFields: "Bitte E-Mail und Passwort eingeben",
                    loginFailed: "Anmeldung fehlgeschlagen:",
                    userNotFound: "Konto nicht gefunden.",
                    wrongPassword: "Falsches Passwort.",
                    invalidEmail: "Ung√ºltiges E-Mail-Format.",
                    invalidCredential: "Ung√ºltige Anmeldedaten.",
                    registerFailed: "Registrierung fehlgeschlagen:",
                    emailInUse: "Diese E-Mail ist bereits registriert.",
                    weakPassword: "Passwort muss mindestens 6 Zeichen haben",
                    registerSuccess: "Konto erfolgreich erstellt!"
                },
                upgrade: {
                    title: "Kostenlose Suchvorg√§nge aufgebraucht",
                    message: "Sie haben alle kostenlosen Suchvorg√§nge verwendet.",
                    upgradeBtn: "Jetzt upgraden",
                    successTitle: "üéâ Abonnement aktiviert!",
                    successMessage: "Ihr Findly Pro-Abonnement ist jetzt aktiv.",
                    thanks: "Danke f√ºr Ihre Unterst√ºtzung üíô",
                    goToDashboard: "Zum Dashboard",
                    paymentUnavailable: "‚ö†Ô∏è Zahlung nicht verf√ºgbar",
                    paymentError: "‚ùå Zahlungsfehler"
                },
                voice: { notSupported: "Ihr Browser unterst√ºtzt keine Sprachsuche" },
                invite: { text: "Lade jetzt deine Freunde ein ‚ú® ‚Äî neue Funktionen & Belohnungen bald üéÅ", copied: "Einladungslink kopiert ‚ú®", copyFailed: "Link nicht kopiert:\n" },
                watch: { enterEmail: "E-Mail f√ºr Preisalarm eingeben:", activated: "‚úÖ Alarm aktiviert!", serverError: "‚ùå Serverfehler: ", connectionFailed: "‚ùå Verbindung fehlgeschlagen" }
            },
            es: {
                ui: {
                    hero_tagline: "Las decisiones de compra m√°s inteligentes",
                    title: "Consejero Sabio",
                    title2: "Compras Perfectas",
                    sub: "Tu gu√≠a de compras inteligente",
                    energy: "Energ√≠a Sage",
                    welcome: "Bienvenido,",
                    game: "Juegos", beauty: "Belleza", home: "Hogar Inteligente", c1: "Tel√©fonos", c2: "Laptops", c4: "Relojes",
                    p_head: "Perfil",
                    lbl_name: "Nombre de usuario",
                    lbl_budget: "Presupuesto ($)",
                    buy: "Comprar ahora üõí",
                    watch: "Vigilar precio üîî",
                    over: "Fuera de presupuesto!",
                    cheap: "Econ√≥mico", top: "Mejor valorados", new: "M√°s nuevos",
                    deep: "Modo IA Profundo",
                    watchTitle: "Lista de seguimiento",
                    why: "Por qu√© esta elecci√≥n?",
                    slow: "El servidor se est√° despertando..",
                    noAttempts: "‚ö†Ô∏è No quedan intentos!",
                    analyze: "üìä An√°lisis",
                    close: "Cerrar",
                    saveChanges: "Guardar cambios ‚úÖ",
                    searchPlaceholder: "Buscar un producto...",
                    noResults: "No se encontraron resultados",
                    errorFetching: "‚ùå Error al obtener resultados",
                    affiliateOffer: "üî• Oferta especial",
                    buyNowAffiliate: "üõí Comprar ahora",
                    namePlaceholder: "Ingresa tu nombre...",
                    budgetPlaceholder: "Tu presupuesto m√°ximo...",
                    settingsSaved: "Configuraci√≥n guardada!",
                    seeker: "Buscador"
                },
                search: {
                    market: "Mercado",
                    avg_price: "Precio promedio",
                    competitors: "Competidores",
                    value: "Valor de oferta",
                    deal_score: "Puntuaci√≥n de oferta",
                    learning_on: "El an√°lisis mejora con el uso",
                    learning_later: "An√°lisis aprendiendo",
                    forecast: "Pron√≥stico de precios",
                    trend: { up: "Probable subida", down: "Probable bajada", stable: "Estable" },
                    expected_price: "Precio esperado",
                    confidence: "Confianza",
                    trust: "Confianza y riesgos",
                    no_risks: "Sin riesgos claros",
                    buy: "Comprar",
                    analyze: "Analizar",
                    watch: "Vigilar",
                    after_discount: "Despu√©s del descuento",
                    copy_coupon: "Copiar cup√≥n",
                    price: "Precio",
                    timing: "Momento",
                    behavior: "Comportamiento",
                    excellent: "Excelente", good: "Bueno", weak: "D√©bil",
                    wait: "Esperar", mayRise: "Puede subir", stableTxt: "Estable",
                    risk: "Riesgo", safe: "Seguro",
                    suitable: "Adecuado", general: "General",
                    smartDecision: "Decisi√≥n inteligente: Comprar ahora",
                    preferWait: "Mejor esperar",
                    waitPriceDrop: "Esperar bajada de precio",
                    priceHigh: "Precio alto",
                    saving: "Ahorro",
                    bestStore: "Mejor tienda",
                    confidenceScore: "Confianza",
                    watchPrice: "Vigilar precio",
                    linkUnavailable: "Enlace no disponible"
                },
                analysis: {
                    title: "üß† An√°lisis Inteligente Sage",
                    market: "Mercado",
                    avgPrice: "Precio promedio",
                    competitors: "Competidores",
                    deal: "Oferta",
                    dealScore: "Puntuaci√≥n de oferta",
                    forecast: "Pron√≥stico",
                    trend: "Tendencia",
                    expectedPrice: "Precio esperado",
                    confidence: "Confianza",
                    trustRisks: "Confianza y Riesgos",
                    noClearRisks: "Sin riesgos claros"
                },
                auth: {
                    title: "Inicia sesi√≥n para comenzar",
                    email: "Correo electr√≥nico",
                    password: "Contrase√±a",
                    login: "Iniciar sesi√≥n",
                    register: "Registrarse",
                    or: "o",
                    googleBtn: "Continuar con Google",
                    privacy: "Pol√≠tica de privacidad",
                    terms: "T√©rminos de uso",
                    about: "Acerca de",
                    logoutConfirm: "Desea cerrar sesi√≥n?",
                    fillFields: "Por favor ingrese correo y contrase√±a",
                    loginFailed: "Error de inicio de sesi√≥n:",
                    userNotFound: "Cuenta no encontrada.",
                    wrongPassword: "Contrase√±a incorrecta.",
                    invalidEmail: "Formato de correo inv√°lido.",
                    invalidCredential: "Credenciales inv√°lidas.",
                    registerFailed: "Error de registro:",
                    emailInUse: "Este correo ya est√° registrado.",
                    weakPassword: "La contrase√±a debe tener al menos 6 caracteres",
                    registerSuccess: "Cuenta creada exitosamente!"
                },
                upgrade: {
                    title: "B√∫squedas gratuitas agotadas",
                    message: "Has usado todas tus b√∫squedas gratuitas.",
                    upgradeBtn: "Actualizar ahora",
                    successTitle: "üéâ Suscripci√≥n activada!",
                    successMessage: "Tu suscripci√≥n Findly Pro est√° ahora activa.",
                    thanks: "Gracias por tu apoyo üíô",
                    goToDashboard: "Ir al panel",
                    paymentUnavailable: "‚ö†Ô∏è Pago no disponible",
                    paymentError: "‚ùå Error del servicio de pago"
                },
                voice: { notSupported: "Tu navegador no soporta b√∫squeda por voz" },
                invite: { text: "Invita a tus amigos ahora ‚ú® ‚Äî funciones y recompensas pr√≥ximamente üéÅ", copied: "Enlace de invitaci√≥n copiado ‚ú®", copyFailed: "Enlace no copiado:\n" },
                watch: { enterEmail: "Ingresa tu email para alertas:", activated: "‚úÖ Alerta activada!", serverError: "‚ùå Error del servidor: ", connectionFailed: "‚ùå Conexi√≥n fallida" }
            },
            tr: {
                ui: {
                    hero_tagline: "Daha akƒ±llƒ± satƒ±n alma kararlarƒ±",
                    title: "Bilge Danƒ±≈üman",
                    title2: "M√ºkemmel Alƒ±≈üveri≈ü",
                    sub: "Akƒ±llƒ± alƒ±≈üveri≈ü rehberiniz",
                    energy: "Sage Enerjisi",
                    welcome: "Ho≈ü geldiniz,",
                    game: "Oyunlar", beauty: "G√ºzellik", home: "Akƒ±llƒ± Ev", c1: "Telefonlar", c2: "Laptoplar", c4: "Saatler",
                    p_head: "Profil",
                    lbl_name: "Kullanƒ±cƒ± adƒ±",
                    lbl_budget: "B√ºt√ße ($)",
                    buy: "≈ûimdi al üõí",
                    watch: "Fiyatƒ± izle üîî",
                    over: "B√ºt√ßeyi a≈üƒ±yor!",
                    cheap: "Ekonomik", top: "En √ßok oylanan", new: "En yeniler",
                    deep: "YA Derin Modu",
                    watchTitle: "ƒ∞zleme listesi",
                    why: "Neden bu se√ßim?",
                    slow: "Sunucu uyanƒ±yor..",
                    noAttempts: "‚ö†Ô∏è Deneme hakkƒ± kalmadƒ±!",
                    analyze: "üìä Analiz",
                    close: "Kapat",
                    saveChanges: "Deƒüi≈üiklikleri kaydet ‚úÖ",
                    searchPlaceholder: "√úr√ºn ara...",
                    noResults: "Sonu√ß bulunamadƒ±",
                    errorFetching: "‚ùå Sonu√ßlar alƒ±nƒ±rken hata",
                    affiliateOffer: "üî• √ñzel teklif",
                    buyNowAffiliate: "üõí ≈ûimdi al",
                    namePlaceholder: "Adƒ±nƒ±zƒ± girin...",
                    budgetPlaceholder: "Maksimum b√ºt√ßeniz...",
                    settingsSaved: "Ayarlar kaydedildi!",
                    seeker: "Aranan"
                },
                search: {
                    market: "Pazar",
                    avg_price: "Ortalama fiyat",
                    competitors: "Rakipler",
                    value: "Teklif deƒüeri",
                    deal_score: "Teklif puanƒ±",
                    learning_on: "Analiz kullanƒ±mla geli≈üir",
                    learning_later: "Analiz √∂ƒüreniyor",
                    forecast: "Fiyat tahmini",
                    trend: { up: "Muhtemelen artacak", down: "Muhtemelen d√º≈üecek", stable: "Kararlƒ±" },
                    expected_price: "Beklenen fiyat",
                    confidence: "G√ºven",
                    trust: "G√ºven ve riskler",
                    no_risks: "A√ßƒ±k risk yok",
                    buy: "Satƒ±n al",
                    analyze: "Analiz et",
                    watch: "ƒ∞zle",
                    after_discount: "ƒ∞ndirim sonrasƒ±",
                    copy_coupon: "Kuponu kopyala",
                    price: "Fiyat",
                    timing: "Zamanlama",
                    behavior: "Davranƒ±≈ü",
                    excellent: "M√ºkemmel", good: "ƒ∞yi", weak: "Zayƒ±f",
                    wait: "Bekle", mayRise: "Artabilir", stableTxt: "Kararlƒ±",
                    risk: "Risk", safe: "G√ºvenli",
                    suitable: "Uygun", general: "Genel",
                    smartDecision: "Akƒ±llƒ± karar: ≈ûimdi al",
                    preferWait: "Beklemek daha iyi",
                    waitPriceDrop: "Fiyat d√º≈ü√º≈ü√ºn√º bekle",
                    priceHigh: "Fiyat y√ºksek",
                    saving: "Tasarruf",
                    bestStore: "En iyi maƒüaza",
                    confidenceScore: "G√ºven",
                    watchPrice: "Fiyatƒ± izle",
                    linkUnavailable: "Baƒülantƒ± mevcut deƒüil"
                },
                analysis: {
                    title: "üß† Sage Akƒ±llƒ± Analiz",
                    market: "Pazar",
                    avgPrice: "Ortalama fiyat",
                    competitors: "Rakipler",
                    deal: "Teklif",
                    dealScore: "Teklif puanƒ±",
                    forecast: "Tahmin",
                    trend: "Trend",
                    expectedPrice: "Beklenen fiyat",
                    confidence: "G√ºven",
                    trustRisks: "G√ºven ve Riskler",
                    noClearRisks: "A√ßƒ±k risk yok"
                },
                auth: {
                    title: "Akƒ±llƒ± aramayƒ± ba≈ülatmak i√ßin giri≈ü yapƒ±n",
                    email: "E-posta",
                    password: "≈ûifre",
                    login: "Giri≈ü yap",
                    register: "Kayƒ±t ol",
                    or: "veya",
                    googleBtn: "Google ile devam et",
                    privacy: "Gizlilik Politikasƒ±",
                    terms: "Kullanƒ±m ≈ûartlarƒ±",
                    about: "Hakkƒ±mƒ±zda",
                    logoutConfirm: "√áƒ±kƒ±≈ü yapmak istiyor musunuz?",
                    fillFields: "L√ºtfen e-posta ve ≈üifre girin",
                    loginFailed: "Giri≈ü ba≈üarƒ±sƒ±z:",
                    userNotFound: "Hesap bulunamadƒ±.",
                    wrongPassword: "Yanlƒ±≈ü ≈üifre.",
                    invalidEmail: "Ge√ßersiz e-posta formatƒ±.",
                    invalidCredential: "Ge√ßersiz kimlik bilgileri.",
                    registerFailed: "Kayƒ±t ba≈üarƒ±sƒ±z:",
                    emailInUse: "Bu e-posta zaten kayƒ±tlƒ±.",
                    weakPassword: "≈ûifre en az 6 karakter olmalƒ±",
                    registerSuccess: "Hesap ba≈üarƒ±yla olu≈üturuldu!"
                },
                upgrade: {
                    title: "√úcretsiz aramalar t√ºkendi",
                    message: "T√ºm √ºcretsiz aramalarƒ±nƒ±zƒ± kullandƒ±nƒ±z.",
                    upgradeBtn: "≈ûimdi y√ºkselt",
                    successTitle: "üéâ Abonelik aktifle≈ütirildi!",
                    successMessage: "Findly Pro aboneliƒüiniz artƒ±k aktif.",
                    thanks: "Desteƒüiniz i√ßin te≈üekk√ºrler üíô",
                    goToDashboard: "Kontrol paneline git",
                    paymentUnavailable: "‚ö†Ô∏è √ñdeme mevcut deƒüil",
                    paymentError: "‚ùå √ñdeme servisi hatasƒ±"
                },
                voice: { notSupported: "Tarayƒ±cƒ±nƒ±z sesli aramayƒ± desteklemiyor" },
                invite: { text: "Arkada≈ülarƒ±nƒ±zƒ± ≈üimdi davet edin ‚ú® ‚Äî yakƒ±nda √∂zellikler ve √∂d√ºller üéÅ", copied: "Davet linki kopyalandƒ± ‚ú®", copyFailed: "Link kopyalanmadƒ±:\n" },
                watch: { enterEmail: "Fiyat uyarƒ±larƒ± i√ßin e-postanƒ±zƒ± girin:", activated: "‚úÖ Uyarƒ± aktifle≈ütirildi!", serverError: "‚ùå Sunucu hatasƒ±: ", connectionFailed: "‚ùå Baƒülantƒ± ba≈üarƒ±sƒ±z" }
            }
        };

        function t(key) {
            const keys = key.split('.');
            let value = dict[lang];
            for (const k of keys) { value = value?.[k]; }
            return value || key;
        }

        // ‚ïê‚ïê‚ïê UI UPDATE ‚ïê‚ïê‚ïê
        function updateUI() {
            const d = dict[lang] || dict['en'] || dict['ar'];
            if (!d) return;
            const userName = localStorage.getItem('fn') || t('ui.seeker');
            
            document.getElementById('hero-tagline').innerText = t('ui.hero_tagline');
            document.getElementById('txt-title').innerText = t('ui.title');
            document.getElementById('txt-title2').innerText = t('ui.title2');
            document.getElementById('txt-sub').innerText = t('ui.sub');
            document.getElementById('txt-energy').innerText = t('ui.energy');
            document.getElementById('greeting').innerText = t('ui.welcome') + " " + userName;
            document.getElementById('txt-deep').innerText = t('ui.deep');
            document.getElementById('tag-cheap').innerText = t('ui.cheap');
            document.getElementById('tag-top').innerText = t('ui.top');
            document.getElementById('tag-new').innerText = t('ui.new');
            document.getElementById('cat-game').innerText = t('ui.game');
            document.getElementById('cat-beauty').innerText = t('ui.beauty');
            document.getElementById('cat-home').innerText = t('ui.home');
            document.getElementById('cat-c1').innerText = t('ui.c1');
            document.getElementById('cat-c2').innerText = t('ui.c2');
            document.getElementById('cat-c4').innerText = t('ui.c4');
            document.getElementById('p_head').innerText = t('ui.p_head');
            document.getElementById('lbl-name').innerText = t('ui.lbl_name');
            document.getElementById('lbl-budget').innerText = t('ui.lbl_budget');
            document.getElementById('watchlist-title').innerText = t('ui.watchTitle');
            document.getElementById('s-input').placeholder = t('ui.searchPlaceholder');
            document.getElementById('auth-subtitle').innerText = t('auth.title');
            document.getElementById('auth-email').placeholder = t('auth.email');
            document.getElementById('auth-password').placeholder = t('auth.password');
            document.getElementById('auth-login-text').innerText = t('auth.login');
            document.getElementById('auth-register-text').innerText = t('auth.register');
            document.getElementById('auth-or-text').innerText = t('auth.or');
            document.getElementById('auth-google-text').innerText = t('auth.googleBtn');
            document.getElementById('link-privacy').innerText = t('auth.privacy');
            document.getElementById('link-terms').innerText = t('auth.terms');
            document.getElementById('link-about').innerText = t('auth.about');
            document.getElementById('footer-privacy').innerText = t('auth.privacy');
            document.getElementById('footer-terms').innerText = t('auth.terms');
            document.getElementById('footer-about').innerText = t('auth.about');
            document.getElementById('btn-save-settings').innerText = t('ui.saveChanges');
            document.getElementById('btn-close-profile').innerText = t('ui.close');
            document.getElementById('btn-close-watch').innerText = t('ui.close');
            document.getElementById('btn-close-analysis').innerText = t('ui.close');
            document.getElementById('analysis-modal-title').innerText = t('analysis.title');
            document.getElementById('in-name').placeholder = t('ui.namePlaceholder');
            document.getElementById('in-budget').placeholder = t('ui.budgetPlaceholder');
            document.getElementById('aff-offer').innerText = t('ui.affiliateOffer');
            document.getElementById('affBtn').innerText = t('ui.buyNowAffiliate');
            document.getElementById('inviteText').innerText = t('invite.text');
            document.getElementById('chat-status-text').innerText = t('auth.connected') || 'ŸÖÿ™ÿµŸÑ ÿßŸÑÿ¢ŸÜ';
            document.getElementById('chat-input').placeholder = t('chatPlaceholder') || 'ÿßŸÉÿ™ÿ® ÿ±ÿ≥ÿßŸÑÿ™ŸÉ...';
            document.getElementById('main-html').lang = lang;
            document.getElementById('main-html').dir = (lang === 'ar') ? 'rtl' : 'ltr';
        }

        function updateGreeting() {
            const name = localStorage.getItem('fn') || t('ui.seeker');
            document.getElementById('greeting').innerText = t('ui.welcome') + " " + name;
        }

        // ‚ïê‚ïê‚ïê THEME ‚ïê‚ïê‚ïê
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
        }

        // ‚ïê‚ïê‚ïê LANGUAGE ‚ïê‚ïê‚ïê
        function toggleLangMenu() { document.getElementById('lang-menu').classList.toggle('active'); }
        
        function setLang(l) {
            lang = l;
            localStorage.setItem('findly_lang', l);
            toggleLangMenu();
            updateUI();
        }

        // ‚ïê‚ïê‚ïê AI MODE ‚ïê‚ïê‚ïê
        function toggleAiMode() {
            aiModeEnabled = !aiModeEnabled;
            document.getElementById('ai-deep-mode').checked = aiModeEnabled;
        }

        // ‚ïê‚ïê‚ïê SEARCH ‚ïê‚ïê‚ïê
        function handleSearchKey(e) { if (e.key === 'Enter') performSearch(); }

        async function performSearch() {
            const q = document.getElementById('s-input').value.trim();
            const status = document.getElementById('status-container');
            const resultsBox = document.getElementById('results');
            
            if (!q) return;
            
            const T = dict[lang]?.search || dict.en.search;
            const UI = dict[lang]?.ui || dict.en.ui;
            
            status.innerHTML = `<div class="loading-container"><div class="loading-spinner"></div><p class="loading-text">${t('ui.slow')}</p></div>`;
            resultsBox.innerHTML = '';
            
            const userBudget = parseFloat(localStorage.getItem('user_budget')) || 0;
            
            try {
                const uid = localStorage.getItem('findly_uid') || 'guest';
                const res = await fetch(`${API}/search?q=${encodeURIComponent(q)}&lang=${lang}&uid=${uid}`);
                const data = await res.json();
                
                status.innerHTML = '';
                
                if (data.error === 'ENERGY_EMPTY') {
                    const upgradeDict = dict[lang]?.upgrade || dict.ar.upgrade;
                    status.innerHTML = `
                        <div class="upgrade-section">
                            <div class="upgrade-icon"><i class="fas fa-battery-empty"></i></div>
                            <h3 class="upgrade-title">${upgradeDict.title}</h3>
                            <p class="upgrade-text">${upgradeDict.message}</p>
                            <button class="upgrade-btn" onclick="openUpgrade()">${upgradeDict.upgradeBtn}</button>
                        </div>
                    `;
                    return;
                }
                
                if (!data.results || data.results.length === 0) {
                    status.innerHTML = `<div class="status-message info"><i class="fas fa-search"></i> ${UI.noResults}</div>`;
                    return;
                }
                
                // Update energy
                if (data.energy) {
                    document.getElementById('r-count').textContent = data.energy.left;
                }
                
                // Show affiliate card
                if (data.results.length > 0) {
                    updateAffiliateCard(data.results[0]);
                }
                
                // Display results
                data.results.forEach((p, index) => {
                    const card = createProductCard(p, index, T, UI, userBudget);
                    resultsBox.appendChild(card);
                });
                
            } catch (e) {
                console.error('Search error:', e);
                status.innerHTML = `<div class="status-message error"><i class="fas fa-exclamation-triangle"></i> ${UI.errorFetching}</div>`;
            }
        }

        function createProductCard(p, index, T, UI, userBudget) {
            const intel = p.intelligence || {};
            const verdict = intel.finalVerdict || {};
            const priceIntel = intel.priceIntel || {};
            const valueIntel = intel.valueIntel || {};
            const forecastIntel = intel.forecastIntel || {};
            const trustIntel = intel.trustIntel || {};
            
            const card = document.createElement('div');
            card.className = 'product-card';
            card.style.animationDelay = `${index * 0.1}s`;
            
            const priceVal = parseFloat(String(p.price).replace(/[^\d.]/g, '')) || p.numericPrice || 0;
            
            // Budget check
            let budgetClass = '';
            let budgetBadge = '';
            if (userBudget > 0 && priceVal > userBudget) {
                budgetClass = 'over-budget';
                budgetBadge = `<div class="budget-alert">‚ö†Ô∏è ${UI.over}</div>`;
            }
            
            // Verdict styling
            let verdictClass = 'buy';
            let verdictIcon = 'fa-check-circle';
            if (verdict.decision === 'WAIT' || verdict.decision === 'WAIT_PRICE_DROP') {
                verdictClass = 'wait';
                verdictIcon = 'fa-clock';
            } else if (verdict.decision === 'OVERPRICED' || verdict.decision === 'OVER_BUDGET') {
                verdictClass = 'avoid';
                verdictIcon = 'fa-exclamation-triangle';
            }
            
            // Price eval
            let priceEval = T.weak;
            if (priceIntel.score >= 70) priceEval = T.excellent;
            else if (priceIntel.score >= 50) priceEval = T.good;
            
            // Trend eval
            let trendEval = T.stableTxt;
            if (forecastIntel.trend === 'down') trendEval = T.wait;
            else if (forecastIntel.trend === 'up') trendEval = T.mayRise;
            
            // Trust eval
            let trustEval = T.safe;
            if ((trustIntel.riskScore || 0) > 50) trustEval = T.risk;
            
            // Behavior eval
            let behaviorEval = T.general;
            if ((valueIntel.learningBoost || 0) > 0) behaviorEval = T.suitable;
            
            // Coupon logic
            const coupons = p.coupons || [];
            const numericPrice = priceVal;
            const bestCoupon = numericPrice && coupons.length ? pickBestCoupon(numericPrice, coupons) : null;
            const discountedPrice = bestCoupon ? applyCoupon(numericPrice, bestCoupon) : null;
            
            // Best link
            const bestLink = verdict.bestLink || p.link;
            const safeLink = bestLink && bestLink.startsWith('http') ? bestLink : null;
            
            // Savings calculation
            const savings = verdict.savingPercent || (priceIntel.savings || 0);
            
            card.innerHTML = `
                ${budgetBadge}
                <div class="product-header">
                    <div class="product-image-wrapper">
                        <img class="product-image" src="${p.thumbnail || ''}" alt="${p.title}" onerror="this.src='https://via.placeholder.com/180'">
                        ${savings > 15 ? `<span class="product-badge">${T.excellent}</span>` : ''}
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${p.title || '‚Äî'}</h3>
                        <div class="product-pricing">
                            ${bestCoupon && discountedPrice ? `<span class="old-price">$${numericPrice}</span><span class="current-price">$${discountedPrice}</span><span class="discount-badge">-${bestCoupon.type === 'percent' ? bestCoupon.discount + '%' : '$' + bestCoupon.discount}</span>` : `<span class="current-price">$${numericPrice || '‚Äî'}</span>`}
                        </div>
                    </div>
                </div>

                ${verdict.decision ? `
                <div class="verdict-section">
                    <div class="verdict-header">
                        <div class="verdict-icon ${verdictClass}"><i class="fas ${verdictIcon}"></i></div>
                        <div class="verdict-title ${verdictClass}">${verdict.title || (verdictClass === 'buy' ? T.smartDecision : verdictClass === 'wait' ? T.preferWait : T.priceHigh)}</div>
                    </div>
                    <p class="verdict-reason">${verdict.reason || ''}</p>
                    ${verdict.savingPercent ? `<div class="verdict-meta"><span>üí∞ ${T.saving}: <strong>${verdict.savingPercent}%</strong></span></div>` : ''}
                    ${verdict.bestStore ? `<div class="verdict-meta"><span>üè™ ${T.bestStore}: <strong>${verdict.bestStore}</strong></span></div>` : ''}
                    <div class="verdict-meta"><span>üéØ ${T.confidenceScore}: <strong>${verdict.confidence || 60}%</strong></span></div>
                </div>
                ` : ''}

                <div class="intel-grid">
                    <div class="intel-item">
                        <div class="icon">üí∞</div>
                        <div class="label">${T.price}</div>
                        <div class="value ${priceIntel.score >= 70 ? 'good' : priceIntel.score < 50 ? 'danger' : ''}">${priceEval}</div>
                    </div>
                    <div class="intel-item">
                        <div class="icon">üìà</div>
                        <div class="label">${T.timing}</div>
                        <div class="value ${forecastIntel.trend === 'down' ? 'good' : forecastIntel.trend === 'up' ? 'danger' : ''}">${trendEval}</div>
                    </div>
                    <div class="intel-item">
                        <div class="icon">üõ°Ô∏è</div>
                        <div class="label">${T.confidence}</div>
                        <div class="value">${trustEval}</div>
                    </div>
                    <div class="intel-item">
                        <div class="icon">üß†</div>
                        <div class="label">${T.behavior}</div>
                        <div class="value">${behaviorEval}</div>
                    </div>
                </div>

                <div class="intel-section">
                    <h4>üìä ${T.market}</h4>
                    <p>${T.avg_price}: <strong>${priceIntel.average ? '$' + Math.round(priceIntel.average) : '‚Äî'}</strong></p>
                    <p>${T.competitors}: <strong>${valueIntel.competitors || 0}</strong></p>
                </div>

                <div class="intel-section">
                    <h4>üíé ${T.value}</h4>
                    <p>${T.deal_score}: <strong>${valueIntel.score || 0}%</strong></p>
                    <p>${valueIntel.learningBoost > 0 ? T.learning_on : T.learning_later}</p>
                </div>

                <div class="intel-section">
                    <h4>üîÆ ${T.forecast}</h4>
                    <p>${T.trend[forecastIntel.trend] || T.trend.stable}</p>
                    <p>${T.expected_price}: <strong>$${forecastIntel.expectedPrice || '‚Äî'}</strong></p>
                    <p>${T.confidence}: <strong>${Math.round((forecastIntel.confidence || 0.6) * 100)}%</strong></p>
                </div>

                <div class="intel-section">
                    <h4>‚ö†Ô∏è ${T.trust}</h4>
                    ${trustIntel.warnings && trustIntel.warnings.length ? `<ul>${trustIntel.warnings.map(w => `<li>${w}</li>`).join('')}</ul>` : `<p>‚úÖ ${T.no_risks}</p>`}
                </div>

                ${bestCoupon ? `
                <div class="coupon-box">
                    <div class="coupon-header">
                        <span class="coupon-code">${bestCoupon.code}</span>
                        <span class="coupon-discount">${bestCoupon.type === 'percent' ? '-' + bestCoupon.discount + '%' : '-$' + bestCoupon.discount}</span>
                    </div>
                    <p class="coupon-after">${T.after_discount}: <strong>$${discountedPrice}</strong></p>
                    <button class="coupon-copy" onclick="navigator.clipboard.writeText('${bestCoupon.code}')">${T.copy_coupon}</button>
                </div>
                ` : ''}

                <div class="action-buttons">
                    <button class="btn btn-warning" onclick="addToWatchlist('${(p.title || '').replace(/'/g, "\\'")}', ${numericPrice}, '${safeLink || ''}')">
                        <i class="fas fa-bell"></i> ${T.watchPrice}
                    </button>
                    ${safeLink ? `<a class="btn btn-primary" href="${API}/go?url=${encodeURIComponent(safeLink)}" target="_blank"><i class="fas fa-shopping-cart"></i> ${UI.buy}</a>` : `<button class="btn btn-primary disabled" disabled>${T.linkUnavailable}</button>`}
                    <button class="btn btn-secondary" onclick="openAnalysis(${encodeURIComponent(JSON.stringify({verdict, priceIntel, valueIntel, forecastIntel, trustIntel}))})">
                        <i class="fas fa-chart-line"></i> ${T.analyze}
                    </button>
                </div>
            `;
            
            return card;
        }

        // ‚ïê‚ïê‚ïê COUPON HELPERS ‚ïê‚ïê‚ïê
        function applyCoupon(price, coupon) {
            if (!price || !coupon) return price;
            let final = price;
            if (coupon.type === 'percent') final = price - (price * coupon.discount / 100);
            if (coupon.type === 'fixed') final = price - coupon.discount;
            return Math.max(final, 0).toFixed(2);
        }

        function pickBestCoupon(price, coupons = []) {
            if (!price || !coupons.length) return null;
            let best = null;
            let bestPrice = price;
            coupons.forEach(c => {
                const discounted = parseFloat(applyCoupon(price, c));
                if (discounted < bestPrice) { bestPrice = discounted; best = c; }
            });
            return best;
        }

        // ‚ïê‚ïê‚ïê AFFILIATE CARD ‚ïê‚ïê‚ïê
        function updateAffiliateCard(product) {
            const affiliateBase = "https://s.click.aliexpress.com/e/_c3Ol2SAb";
            const safeLink = product.intelligence?.finalVerdict?.bestLink || product.link;
            
            document.getElementById("affImage").src = product.thumbnail || '';
            document.getElementById("affTitle").innerText = product.title || '';
            document.getElementById("affBtn").href = affiliateBase + "?redirect=" + encodeURIComponent(safeLink);
            document.getElementById("affiliateCard").classList.remove('hidden');
        }

        // ‚ïê‚ïê‚ïê ANALYSIS MODAL ‚ïê‚ïê‚ïê
        function openAnalysis(dataStr) {
            try {
                const data = JSON.parse(decodeURIComponent(dataStr));
                const AT = dict[lang]?.analysis || dict.ar.analysis;
                
                document.getElementById('analysis-content-body').innerHTML = `
                    <div class="analysis-section">
                        <h4><i class="fas fa-chart-bar"></i> ${AT.market}</h4>
                        <p>${AT.avgPrice}: $${data.priceIntel?.average ?? '‚Äî'}</p>
                        <p>${AT.competitors}: ${data.valueIntel?.competitors ?? 0}</p>
                    </div>
                    <div class="analysis-section">
                        <h4><i class="fas fa-gem"></i> ${AT.deal}</h4>
                        <p>${AT.dealScore}: ${data.valueIntel?.score ?? 0}%</p>
                    </div>
                    <div class="analysis-section">
                        <h4><i class="fas fa-crystal-ball"></i> ${AT.forecast}</h4>
                        <p>${AT.trend}: ${data.forecastIntel?.trend || 'stable'}</p>
                        <p>${AT.expectedPrice}: $${data.forecastIntel?.expectedPrice || '‚Äî'}</p>
                        <p>${AT.confidence}: ${Math.round((data.forecastIntel?.confidence || 0.6) * 100)}%</p>
                    </div>
                    <div class="analysis-section">
                        <h4><i class="fas fa-shield-alt"></i> ${AT.trustRisks}</h4>
                        ${data.trustIntel?.warnings?.length ? `<ul>${data.trustIntel.warnings.map(w => `<li>${w}</li>`).join('')}</ul>` : `<p>${AT.noClearRisks}</p>`}
                    </div>
                `;
                
                document.getElementById('analysis-modal').classList.add('active');
            } catch (e) {
                console.error('Analysis error:', e);
            }
        }

        function closeAnalysisModal() {
            document.getElementById('analysis-modal').classList.remove('active');
        }

        // ‚ïê‚ïê‚ïê WATCHLIST ‚ïê‚ïê‚ïê
        async function addToWatchlist(name, price, link) {
            const watchDict = dict[lang]?.watch || dict.ar.watch;
            const userEmail = prompt(watchDict.enterEmail);
            if (!userEmail || !userEmail.includes("@")) return;
            
            let uid = localStorage.getItem('findly_uid') || 'guest';
            let numericPrice = parseFloat(String(price).replace(/[^\d.]/g, '')) || 0;
            let targetPrice = numericPrice * 0.9;
            
            try {
                const response = await fetch(`${API}/alerts`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        email: userEmail,
                        productName: name,
                        targetPrice: targetPrice,
                        currentPrice: numericPrice,
                        productLink: link,
                        lang: lang,
                        uid: uid
                    })
                });
                if (response.ok) { alert(watchDict.activated); }
                else { alert(watchDict.serverError + response.status); }
            } catch (error) { alert(watchDict.connectionFailed); }
        }

        function openWatchlist() {
            document.getElementById('watchlist-modal').classList.add('active');
            const watchlist = JSON.parse(localStorage.getItem('findly_watchlist') || '[]');
            const content = document.getElementById('watchlist-content');
            
            if (watchlist.length === 0) {
                content.innerHTML = `<p style="color: var(--text-muted); text-align: center; padding: 24px;">${t('ui.watchTitle')}</p>`;
            } else {
                content.innerHTML = watchlist.map(item => `
                    <div style="padding: 16px; background: var(--bg-glass); border-radius: var(--radius-lg); margin-bottom: 12px; border: 1px solid var(--border-subtle);">
                        <p style="font-weight: 600; margin-bottom: 8px;">${item.name}</p>
                        <p style="color: var(--success); font-weight: 700;">$${item.price || '‚Äî'}</p>
                    </div>
                `).join('');
            }
        }

        function updateWatchBadge() {
            const watchlist = JSON.parse(localStorage.getItem('findly_watchlist') || '[]');
            const badge = document.getElementById('watch-badge');
            if (watchlist.length > 0) {
                badge.textContent = watchlist.length;
                badge.style.display = 'flex';
            } else {
                badge.style.display = 'none';
            }
        }

        // ‚ïê‚ïê‚ïê PROFILE ‚ïê‚ïê‚ïê
        function openProfile() {
            document.getElementById('profile-modal').classList.add('active');
            document.getElementById('in-name').value = localStorage.getItem('fn') || '';
            document.getElementById('in-budget').value = localStorage.getItem('user_budget') || '';
        }

        function saveProfile() {
            localStorage.setItem('fn', document.getElementById('in-name').value);
            localStorage.setItem('user_budget', document.getElementById('in-budget').value);
            closeModal('profile-modal');
            updateGreeting();
            alert('‚úÖ ' + t('ui.settingsSaved'));
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
        }

        // ‚ïê‚ïê‚ïê INVITE ‚ïê‚ïê‚ïê
        function copyInviteLink() {
            const uid = localStorage.getItem('findly_uid') || 'guest';
            const link = `${location.origin}${location.pathname}?ref=${uid}`;
            const inviteDict = dict[lang]?.invite || dict.ar.invite;
            navigator.clipboard.writeText(link).then(() => {
                alert(inviteDict.copied);
            }).catch(() => {
                alert(inviteDict.copyFailed + link);
            });
        }

        // ‚ïê‚ïê‚ïê UPGRADE ‚ïê‚ïê‚ïê
        async function openUpgrade() {
            const uid = localStorage.getItem('findly_uid') || 'guest_' + Date.now();
            const upgradeDict = dict[lang]?.upgrade || dict.ar.upgrade;
            try {
                const res = await fetch(`${API}/create-payment`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ uid })
                });
                const data = await res.json();
                if (data.url) { window.open(data.url, '_blank'); }
                else { alert(upgradeDict.paymentUnavailable); }
            } catch (e) { alert(upgradeDict.paymentError); }
        }

        // ‚ïê‚ïê‚ïê QUICK SEARCH/FILTER ‚ïê‚ïê‚ïê
        function quickSearch(q) {
            document.getElementById('s-input').value = q;
            performSearch();
        }

        function quickFilter(type) {
            const input = document.getElementById('s-input');
            input.value += " " + type;
            performSearch();
        }

        // ‚ïê‚ïê‚ïê VOICE ‚ïê‚ïê‚ïê
        function startVoice() {
            const voiceDict = dict[lang]?.voice || dict.ar.voice;
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if (!SpeechRecognition) { alert(voiceDict.notSupported); return; }
            
            const recognition = new SpeechRecognition();
            const micBtn = document.getElementById('mic-btn');
            
            recognition.lang = lang === 'ar' ? 'ar-SA' : 'en-US';
            recognition.interimResults = false;
            
            recognition.onstart = () => micBtn.classList.add('recording');
            recognition.onend = () => micBtn.classList.remove('recording');
            recognition.onresult = (event) => {
                const transcript = event.results[0][0].transcript;
                document.getElementById('s-input').value = transcript;
                micBtn.classList.remove('recording');
                performSearch();
            };
            recognition.onerror = () => micBtn.classList.remove('recording');
            
            recognition.start();
        }

        // ‚ïê‚ïê‚ïê CHAT ‚ïê‚ïê‚ïê
        function toggleChat() {
            document.getElementById('chat-window').classList.toggle('active');
        }

        function handleChatKey(e) {
            if (e.key === 'Enter') sendChatMessage();
        }

        async function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (!message) return;
            
            const container = document.getElementById('chat-messages');
            
            container.innerHTML += `<div class="message user">${message}</div>`;
            input.value = '';
            container.scrollTop = container.scrollHeight;
            
            try {
                const response = await fetch(`${API}/chat`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message, userId: localStorage.getItem('findly_uid') || 'guest' })
                });
                const data = await response.json();
                container.innerHTML += `<div class="message bot">${data.reply || data.response || 'ü§î ÿπÿ∞ÿ±ÿßŸãÿå ŸÑŸÖ ÿ£ŸÅŸáŸÖ.'}</div>`;
            } catch (error) {
                container.innerHTML += `<div class="message bot">‚ö†Ô∏è ${t('chatError') || 'ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ'}</div>`;
            }
            
            container.scrollTop = container.scrollHeight;
        }

        // ‚ïê‚ïê‚ïê INIT ‚ïê‚ïê‚ïê
        window.onload = () => {
            // Load theme
            if (localStorage.getItem('theme') === 'light') {
                document.body.classList.add('light-mode');
            }
            
            updateUI();
            updateWatchBadge();
            
            // Check for upgrade success
            if (location.href.includes("upgrade=success")) {
                localStorage.setItem("findly_pro", "true");
                const upgradeDict = dict[lang]?.upgrade || dict.ar.upgrade;
                alert(upgradeDict.successTitle + "\n" + upgradeDict.successMessage);
            }
        };

        // Close dropdowns on outside click
        window.onclick = (e) => {
            if (!e.target.closest('.dropdown-wrapper')) {
                document.getElementById('lang-menu').classList.remove('active');
            }
            if (e.target.classList.contains('modal-backdrop') || e.target.classList.contains('analysis-modal')) {
                e.target.classList.remove('active');
            }
        };
    </script>
</body>
</html>
